{"file":"produtos-DqVQwF-e.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAeA,UAAM,QAAQ;AAGd,UAAM,iBAAiB,CAAC,sCAAsC,kBAAkB;AAChF,UAAM,gBAAgB;AAAA,MACpB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAEF,UAAM,eAAe,CAAC,sCAAsC,kBAAkB;AAG9E,UAAM,aAAa,CAAC,cAAc,aAAa,UAAU,yBAAyB,4BAA4B;AAC9G,UAAM,YAAY,CAAC,eAAe,aAAa,UAAU,uBAAuB,0BAA0B;AAC1G,UAAM,WAAW,CAAC,cAAc,aAAa,UAAU,mBAAmB,sBAAsB;AAGhG,UAAM,iBAAiB,CAAC,gBAAgB,cAAc;AACtD,UAAM,gBAAgB,CAAC,gBAAgB,cAAc;AAErD,UAAMA,QAAO;AAAA,MACX,GAAI,MAAM,YAAY,WAAW,gBAAgB,MAAM,YAAY,UAAU,eAAe;AAAA,MAC5F,GAAI,MAAM,YAAY,WAAW,YAAY,MAAM,YAAY,UAAU,WAAW;AAAA,MACpF,GAAI,MAAM,YAAY,WAAW,gBAAgB;AAAA,IAAA,EACjD,KAAK,GAAG;AAEV,UAAM,aAAa,MAAM,UAAU,YAAY,iBAAiB,MAAM,UAAU,SAAS,KAAK;AAE9F,UAAM,UAAU,CAACA,OAAM,YAAY,MAAM,KAAK,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAGxE,UAAM,aAAa,EAAE,WAAW,MAAA;;;QA9CxB,OAAOC,MAAA,OAAA;AAAA,QAAU,OAAO;AAAA,MAAA;;;;;;;;;;;;;AC4BhC,MAAMD,SAAO;;;;;;;;;;;AAPb,UAAM,QAAQ;AAKd,UAAM,OAAO;AAGb,UAAM,UAAU,CAACA,QAAM,MAAM,KAAK,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAE5D,aAAS,cAAc;AACrB,UAAI,CAAC,MAAM,SAAU,MAAK,OAAO;AAAA,IACnC;;;QAhCK,IAAI;AAAA,QACJ,UAAU,QAAA;AAAA,QACV,OAAOC,MAAA,OAAA;AAAA,QACP,SAAO;AAAA,QACR,cAAW;AAAA,MAAA;yBALb,CAQgB,GAAAC,QAAAC,UAAA,aAAA;;qCADX,QAAA,KAAK,CAAA,EAAA;AAAA;;8CAAL,QAAA,KAAK,GAAA,CAAA;AAAA,YAAA;AAAA;;;;;;;;;;;;;;ACqBZ,MAAM,OAAO;;;;;;;;;;;AAPb,UAAM,QAAQ;AAKd,UAAM,OAAO;AAGb,UAAM,UAAU,CAAC,MAAM,MAAM,KAAK,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAE5D,aAAS,cAAc;AACrB,UAAI,CAAC,MAAM,SAAU,MAAK,OAAO;AAAA,IACnC;;;QAhCK,IAAI;AAAA,QACJ,UAAU,QAAA;AAAA,QACV,OAAOF,MAAA,OAAA;AAAA,QACP,SAAO;AAAA,QACR,cAAW;AAAA,MAAA;yBALb,CAQgB,GAAAC,QAAAC,UAAA,aAAA;;qCADX,QAAA,KAAK,CAAA,EAAA;AAAA;;8CAAL,QAAA,KAAK,GAAA,CAAA;AAAA,YAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqFZ,UAAM,QAAQ;AAed,UAAM,OAAO;AAQb,UAAM,EAAE,IAAA,IAAQ,WAAA;AAChB,UAAM,EAAE,KAAK,QAAA,IAAY,QAAA;AAGzB,UAAM,UAAU,IAAI,KAAK;AACzB,UAAM,UAAU,IAAgB,IAAI;AACpC,UAAM,UAAU,IAAI,KAAK;AAEzB,UAAM,iBAAiB,SAAS,MAAM;AACpC,YAAMH,QACJ,MAAM,gBAAgB,aAClB,6DACA;AACN,aAAO,CAACA,OAAM,MAAM,KAAK,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAAA,IACrD,CAAC;AAGD,UAAM,eAAe,SAAS,MAAM;AAClC,YAAM,QAAQ,MAAM,YAAY,UAAU;AAE1C,aAAO,CAAC,OAAO,8EAA8E,EAC1F,OAAO,OAAO,EACd,KAAK,GAAG;AAAA,IACb,CAAC;AAED,mBAAe,cAAc;AAE3B,WAAK,WAAW,MAAM,IAAI;AAE1B,YAAM,KAAK,MAAM,MAAM;AACvB,YAAM,OAAO,MAAM,MAAM,eAAe,MAAM,MAAM,UAAU,MAAM,MAAM;AAC1E,UAAI,MAAM,QAAQ,CAAC,KAAM;AACzB,cAAQ,QAAQ;AAChB,UAAI;AACF,cAAM,OAAY,MAAM,OAAO,yBAAyB,EAAE,QAAQ,EAAE,IAAI,aAAa,KAAA,GAAQ;AAC7F,YAAI,MAAM,MAAM;AACd,kBAAQ,QAAQ,KAAK;AACrB,kBAAQ,QAAQ;AAAA,QAClB;AAAA,MACF,SAAS,GAAG;AAAA,MAEZ,UAAA;AACE,gBAAQ,QAAQ;AAAA,MAClB;AAAA,IACF;AAEA,aAAS,cAAc;AAErB,YAAM,OAAO,MAAM,QAAQ,CAAA;AAC3B,YAAM,KAAK,KAAK,MAAM,KAAK,eAAe,KAAK,UAAU,KAAK;AAC9D,YAAM,QACJ,KAAK,QAAQ,KAAK,aAAa,KAAK,UAAU,KAAK,eAAe,WAAW,MAAM,EAAE;AACvF,YAAM,QAAQ,KAAK,cAAc,KAAK,SAAS;AAE/C,UAAI,MAAM,MAAM;AACd,YAAI,EAAE,IAAI,OAAO,MAAA,CAAO;AAAA,MAC1B;AAEA,WAAK,WAAW,MAAM,IAAI;AAAA,IAC5B;AAEA,aAAS,WAAW;AAElB,YAAM,OAAO,MAAM,QAAQ,CAAA;AAC3B,YAAM,KAAK,KAAK,MAAM,KAAK,eAAe,KAAK,UAAU,KAAK;AAC9D,YAAM,QACJ,KAAK,QAAQ,KAAK,aAAa,KAAK,UAAU,KAAK,eAAe,WAAW,MAAM,EAAE;AACvF,YAAM,QAAQ,KAAK,cAAc,KAAK,SAAS;AAE/C,YAAM,YAAY,KAAK;AACvB,YAAM,oBAAoB,KAAK;AAC/B,YAAM,sBAAsB,KAAK;AACjC,YAAM,iBAAiB,KAAK;AAC5B,YAAM,kBAAkB,KAAK;AAC7B,UAAI,MAAM,MAAM;AACd,gBAAQ,EAAE,IAAI,OAAO,OAAO,WAAW,mBAAmB,qBAAqB,gBAAgB,gBAAA,GAAmB,CAAC;AAAA,MACrH;AAEA,WAAK,QAAQ,MAAM,IAAI;AAAA,IACzB;AAEA,aAAS,mBAAmB;AAC1B,WAAK,gBAAgB,MAAM,IAAI;AAAA,IACjC;AAEA,aAAS,eAAe;AACtB,WAAK,YAAY,MAAM,IAAI;AAAA,IAC7B;AAGA,aAAS,UAAU,KAAa;AAC9B,UAAI,CAAC,QAAQ,MAAO;AACpB,YAAM,IAAI,QAAQ;AAClB,YAAM,KAAK,EAAE,MAAM,EAAE;AACrB,YAAM,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,aAAa,EAAE,eAAe,WAAW,MAAM,EAAE;AACvF,YAAM,QAAQ,EAAE,cAAc;AAC9B,cAAQ,EAAE,IAAI,OAAO,OAAO,WAAW,EAAE,WAAW,mBAAmB,EAAE,mBAAmB,qBAAqB,EAAE,qBAAqB,gBAAgB,EAAE,gBAAgB,iBAAiB,EAAE,gBAAA,GAAmB,KAAK,IAAI,GAAG,GAAG,CAAC;AAAA,IAClO;AAEA,aAAS,gBAAgB;AACvB,UAAI;AACF,cAAM,OAAO,QAAQ,OAAO;AAC5B,cAAM,SAAS,MAAM,QAAQ,IAAI,IAAI,OAAQ,OAAO,KAAK,MAAM,OAAO,IAAI,CAAC,IAAI,CAAA;AAC/E,cAAM,SAAS,MAAM,QAAQ,MAAM,IAAI,OAAO,KAAK,CAAC,MAAW,OAAO,MAAM,YAAY,EAAE,YAAA,EAAc,SAAS,MAAM,CAAC,IAAI,QAAQ;AACpI,YAAI,QAAQ;AACV,UAAA,SAAO,KAAK,OAAO,MAAM,GAAG,QAAQ;AAAA,QACtC;AAAA,MACF,SAAS,GAAG;AAAA,MAEZ;AAAA,IACF;;kDAjOe,eAAA,KAAc,CAAA,oBAAA;UAEjB,QAAA,aAAW;;UACjB,MAAK;AAAA,UACJ,OAAO,aAAA;AAAA,UACP,SAAO;AAAA,UACR,cAAW;AAAA,QAAA;2BALb,CASgB,GAAAE,QAAAC,UAAA,aAAA;;sGADX,QAAA,YAAY;;;gBADfC,YAAmC,QAAA,EAA7B,OAAM,iBAAe;AAAA,gBAAQC,gBAAA,sBAChC,QAAA,YAAY,GAAA,CAAA;AAAA,cAAA;AAAA;;;;;;;UAIT,QAAA,aAAW;;UACjB,MAAK;AAAA,UACJ,OAAO,aAAA;AAAA,UACP,SAAO;AAAA,UACR,cAAW;AAAA,QAAA;2BALb,CASgB,GAAAH,QAAAC,UAAA,aAAA;;uGADX,QAAA,YAAY;;;gBADfC,YAAoC,QAAA,EAA9B,OAAM,kBAAgB;AAAA,gBAAQC,gBAAA,sBACjC,QAAA,YAAY,GAAA,CAAA;AAAA,cAAA;AAAA;;;;;;;UAIT,QAAA,kBAAgB;;UACtB,MAAK;AAAA,UACJ,OAAO,aAAA;AAAA,UACP,SAAO;AAAA,UACR,cAAW;AAAA,QAAA;2BALb,CASgB,GAAAH,QAAAC,UAAA,aAAA;;wGADX,QAAA,iBAAiB;;;gBADpBC,YAAqC,QAAA,EAA/B,OAAM,mBAAiB;AAAA,gBAAQC,gBAAA,sBAClC,QAAA,iBAAiB,GAAA,CAAA;AAAA,cAAA;AAAA;;;;;;;UAId,QAAA,cAAY;;UAClB,MAAK;AAAA,UACJ,OAAO,aAAA;AAAA,UACP,SAAO;AAAA,UACR,cAAW;AAAA,QAAA;2BALb,CASgB,GAAAH,QAAAC,UAAA,aAAA;;2GADX,QAAA,aAAa;;;gBADhBC,YAAwC,QAAA,EAAlC,OAAM,sBAAoB;AAAA,gBAAQC,gBAAA,sBACrC,QAAA,aAAa,GAAA,CAAA;AAAA,cAAA;AAAA;;;;;;;UAIV,QAAA,UAAQ;;UACd,MAAK;AAAA,UACJ,OAAO,aAAA;AAAA,UACP,SAAO;AAAA,UACR,cAAW;AAAA,QAAA;2BALb,CASgB,GAAAH,QAAAC,UAAA,aAAA;;+GADX,QAAA,SAAS;;;gBADZC,YAA4C,QAAA,EAAtC,OAAM,0BAAwB;AAAA,gBAAQC,gBAAA,sBACzC,QAAA,SAAS,GAAA,CAAA;AAAA,cAAA;AAAA;;;;;;;;AAKR,UAAA,QAAA,SAAW,QAAA,OAAO;;UACvB,SAAS,QAAA;AAAA,UACT,SAAS,QAAA;AAAA,UACT,qBAAO,QAAA,QAAO;AAAA,UACd;AAAA,UACA;AAAA,QAAA;;;;;;;;;;;;;;;;;;;;;;;AC8CL,UAAM,QAAQ;AACd,UAAM,OAAO;AAMb,UAAM,iBAAiB,SAAS,MAAM;AACpC,YAAM,QAAQ,MAAM,MAAM,iBAAiB,OAAO,MAAM,KAAK,cAAc,IAAI;AAC/E,YAAM,UAAU,MAAM,MAAM,kBAAkB,OAAO,MAAM,KAAK,eAAe,IAAI;AACnF,aAAO,GAAG,KAAK,GAAG,UAAU,MAAM,UAAU,EAAE;AAAA,IAChD,CAAC;AAGD,UAAM,EAAE,KAAK,OAAA,IAAW,aAAA;AACxB,UAAM,QAAQ,SAAS,MAAM;AAC3B,YAAM,IAAS,MAAM,QAAQ,CAAA;AAC7B,aAAO,EAAE,MAAM,EAAE,eAAe,EAAE,UAAU,EAAE;AAAA,IAChD,CAAC;AACD,UAAM,WAAW,SAAS,MAAM;AAC9B,YAAM,IAAS,MAAM,QAAQ,CAAA;AAC7B,YAAM,KAAK,MAAM;AACjB,aAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,UAAU,EAAE,gBAAgB,MAAM,OAAO,WAAW,EAAE,KAAK;AAAA,IAC/F,CAAC;AACD,UAAM,WAAW,SAAS,MAAM;AAC9B,YAAM,IAAS,MAAM,QAAQ,CAAA;AAC7B,aAAO,EAAE,cAAc,EAAE,SAAS;AAAA,IACpC,CAAC;AACD,UAAM,QAAQ,SAAS,MAAM;AAC3B,YAAM,KAAK,MAAM;AACjB,aAAO,MAAM,OAAO,IAAI,EAAE,IAAI;AAAA,IAChC,CAAC;AACD,aAAS,cAAc;AACrB,YAAM,KAAK,MAAM;AACjB,UAAI,MAAM,KAAM;AAChB,aAAO,EAAE,IAAI,OAAO,SAAS,OAAO,OAAO,SAAS,OAAO;AAAA,IAC7D;AAEA,UAAM,WAAW,IAAI,KAAK;;mBAnJnBC,eAAAC,WAAA,EAAA,OAAM,wEAAoE,MAAA,CAAA,6LAGtEC,eAAA,QAAA,KAAK,cAAU,UAAA;;QAIf,QAAQ,MAAA;AAAA,QACT,MAAK;AAAA,QACL,cAAW;AAAA,QACX,OAAM;AAAA,QACL,UAAQ;AAAA,MAAA;ozBAmByDA,eAAA,QAAA,KAAK,iBAAiB,wOAItBA,eAAA,QAAA,KAAK,mBAAmB,gQAIxB,eAAA,KAAc;;QAKpF,OAAM;AAAA,QACL,MAAM,QAAA;AAAA,QACN,WAAO,CAAA,WAAE,KAAI,WAAY,QAAA,IAAI;AAAA,QAC7B,WAAO,CAAA,WAAE,KAAI,WAAY,QAAA,IAAI;AAAA,QAC7B,QAAI,CAAA,WAAE,KAAI,QAAS,QAAA,IAAI;AAAA,MAAA;+BAI1B,CA4CWN,WAAA;YA1CI,SAAA,OAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8F3B,UAAM,QAAQ;AACd,UAAM,OAAO;AAQb,UAAM,EAAE,OAAO,SAAS,cAAc,kBAAkB,aAAa,WAAA,IAAe,OAAO,KAAK;AAGhG,UAAM,gBAAgB;AAAA,MACpB;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAEF,UAAM,cAAc,IAAI,KAAK;AAC7B,UAAM,gBAAgB,IAAc,EAAE;AACtC,UAAM,mBAAmB,IAAc,EAAE;AACzC,UAAM,mBAAmB,IAAI,CAAC;AAC9B,UAAM,YAAY,IAAwB,IAAI;AAE9C,aAAS,QAAQ,KAAqB;AACpC,aAAO,IAAI,WAAW,iBAAiB,IAAI,gBAAgB,mBAAmB,GAAG,CAAC,KAAK;AAAA,IACzF;AAEA,aAAS,UAAU,MAAqB;AAEtC,aAAO,cAAc,IAAI,OAAO;AAAA,IAClC;AAEA,aAAS,WAAW,GAAU;AAC5B,YAAM,SAAS,EAAE;AACjB,UAAI,eAAe,MAAM;AAAA,IAC3B;AAEA,aAAS,YAAY,MAAW,QAAQ,GAAG;AACzC,oBAAc,QAAQ,UAAc;AACpC,uBAAiB,QAAQ,cAAc,MAAA;AACvC,uBAAiB,QAAQ;AACzB,kBAAY,QAAQ;AAAA,IACtB;AAEA,aAAS,eAAe;AACtB,kBAAY,QAAQ;AAAA,IACtB;AAEA,UAAM,eAAe,SAAS,MAAM;AAClC,YAAM,OAAO,cAAc;AAC3B,UAAI,CAAC,QAAQ,CAAC,KAAK,OAAQ,QAAO;AAClC,aAAO,KAAK,KAAK,IAAI,GAAG,KAAK,IAAI,iBAAiB,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC;AAAA,IAC5E,CAAC;AAED,aAAS,YAAY;AACnB,YAAM,OAAO,cAAc;AAC3B,UAAI,CAAC,QAAQ,CAAC,KAAK,OAAQ;AAC3B,uBAAiB,SAAS,iBAAiB,QAAQ,KAAK,KAAK;AAAA,IAC/D;AAEA,aAAS,YAAY;AACnB,YAAM,OAAO,cAAc;AAC3B,UAAI,CAAC,QAAQ,CAAC,KAAK,OAAQ;AAC3B,uBAAiB,SAAS,iBAAiB,QAAQ,KAAK,SAAS,KAAK,KAAK;AAAA,IAC7E;AAEA,aAAS,MAAM,KAAa;AAC1B,aAAO,OAAO,QAAQ,YAAY,IAAI,WAAW,iBAAiB;AAAA,IACpE;AAEA,UAAM,kBAAkB,SAAS,MAAM;AACrC,YAAM,QAAQ,iBAAiB;AAC/B,UAAI,CAAC,SAAS,CAAC,MAAM,OAAQ,QAAO;AACpC,aAAO,MAAM,KAAK,IAAI,GAAG,KAAK,IAAI,iBAAiB,OAAO,MAAM,SAAS,CAAC,CAAC,CAAC;AAAA,IAC9E,CAAC;AAED,aAAS,kBAAkB;AACzB,UAAI;AACF,cAAM,KAAU,UAAU;AAC1B,YAAI,MAAM,GAAG,mBAAmB;AAC9B,aAAG,kBAAA;AAAA,QACL,WAAW,MAAM,GAAG,yBAAyB;AAC3C,aAAG,wBAAA;AAAA,QACL;AAAA,MACF,SAAS,GAAG;AAAA,MAEZ;AAAA,IACF;AAEA,aAAS,MAAM,GAAkB;AAC/B,UAAI,CAAC,YAAY,MAAO;AACxB,UAAI,EAAE,QAAQ,cAAc;AAC1B,kBAAA;AAAA,MACF,WAAW,EAAE,QAAQ,aAAa;AAChC,kBAAA;AAAA,MACF;AAAA,IACF;AAEA,UAAM,aAAa,CAAC,SAAS;AAC3B,UAAI,MAAM;AACR,QAAA,SAAO,iBAAiB,WAAW,KAAK;AAAA,MAC1C,OAAO;AACL,QAAA,SAAO,oBAAoB,WAAW,KAAK;AAAA,MAC7C;AAAA,IACF,CAAC;;;;QA3PU,OAAM;AAAA,QAAS,SAAQ;AAAA,MAAA;yBAAhC,CAyEU,GAAAA,QAAAC,UAAA,aAAA;;8hBAlEsCF,MAAA,gBAAA,CAAgB,oCAC5CA,MAAA,WAAA,CAAW,uBAAUA,MAAA,UAAA,CAAU,yDAGxCA,MAAA,YAAA,CAAY;gBAMNA,MAAA,OAAA,GAAO;;YACF,WAAAA,MAAA,KAAA,EAAM,WAAM,GAAA;;;;AAINQ,4BAAAR,MAAA,KAAA,IAAR,SAAI;gRAIT,OAAK,UAAc,EAAA,CAAA,CAAA;AAQCQ,8BAAA,UAAc,EAAE,MAAK,GAAA,CAAA,GAAA,CAAhC,KAAK,MAAC;oJAKbC,cAAA,iCAA+B,IAAC,EAAA,oCAE3BA,cAAA,OAAK,GAAG;;;;kBAOjB;AAAA,kBACA,WAAO,CAAA,WAAE,KAAI,WAAY,IAAI;AAAA,kBAC7B,WAAO,CAAA,WAAE,KAAI,WAAY,IAAI;AAAA,kBAC7B,QAAI,CAAA,WAAE,KAAI,QAAS,IAAI;AAAA,gBAAA;;;;;;;cAQf,UAAUT,MAAA,WAAA,KAAW,KAASA,MAAA,OAAA;AAAA,cAAU,qBAAO,KAAI,MAAA;AAAA,YAAA;;cACnD,UAAUA,MAAA,WAAA,KAAeA,MAAA,UAAA,KAAcA,MAAA,OAAA;AAAA,cAAU,qBAAO,KAAI,MAAA;AAAA,YAAA;0QAKjCA,MAAA,gBAAA,CAAgB,oCAC5CA,MAAA,WAAA,CAAW,uBAAUA,MAAA,UAAA,CAAU,yDAGxCA,MAAA,YAAA,CAAY;;;cApErBG,YAAsF,MAAA,EAAlF,OAAM,+DAAA,GAA+D,UAAQ;AAAA,cACjFA,YAAsG,KAAA,EAAnG,OAAM,sDAAA,GAAsD,qCAAmC;AAAA,cAElGA,YAoEM,OAAA,EApED,OAAM,UAAM;AAAA,gBACfA,YAQM,OAAA,EARD,OAAM,sFAAkF;AAAA,kBAC3FA,YAGM,OAAA,MAAA;AAAA,oCAHD,cACQ;AAAA,oBAAAA,YAAuD,QAAA,EAAjD,OAAM,cAAA,mBAAiBH,MAAA,gBAAA,CAAgB,GAAA,CAAA;AAAA,oBAAUI,gBAAA,eACzDM,gBAAGV,MAAA,WAAA,CAAW,IAAG,yBAAOA,MAAA,UAAA,CAAU,GAAA,CAAA;AAAA,kBAAA;kBAE7CG,YAEM,OAAA,MAAAO,gBADDV,MAAA,YAAA,CAAY,IAAG,cACpB,CAAA;AAAA,gBAAA;gBAIFG,YAwCM,OAAA,EAxCD,OAAM,UAAM;AAAA,kBACJH,MAAA,OAAA,kBAAXW,YAA2F,OAAA;AAAA;oBAAvE,OAAM;AAAA,kBAAA,GAA8C,eAAa,KACrEX,MAAA,KAAA,EAAM,WAAM,kBAA5BW,YAAwH,OAAA;AAAA;oBAApF,OAAM;AAAA,kBAAA,GAA8C,4BAA0B,mBAElHA,YAmCM,OAAA;AAAA;oBAnCM,OAAM;AAAA,kBAAA;oBAChBR,YAiCM,OAAA,EAjCD,OAAM,sDAAkD;AAAA,wCAC7DQ,YA+BMC,UAAA,MAAAC,WA/Bcb,MAAA,KAAA,GAAK,CAAb,SAAI;4CAAhBW,YA+BM,OAAA;AAAA,0BA/BsB,KAAK,KAAK;AAAA,0BAAI,OAAM;AAAA,wBAAA;0BAE9CR,YAoBM,OAAA,EApBD,OAAM,oBAAgB;AAAA,4BACzBA,YAME,OAAA;AAAA,8BALC,KAAK,UAAc,EAAA,CAAA;AAAA,8BACpB,OAAM;AAAA,8BACN,KAAI;AAAA,8BACH,SAAO;AAAA,8BACP,SAAK,CAAA,WAAE,YAAY,MAAI,CAAA;AAAA,4BAAA;4BAE1BA,YAWM,OAAA,EAXD,OAAM,0CAAsC;AAAA,gDAC/CQ,YASSC,UAAA,MAAAC,WARY,UAAc,EAAE,MAAK,GAAA,CAAA,GAAA,CAAhC,KAAK,MAAC;oDADhBF,YASS,UAAA;AAAA,kCAPN,gBAAgB;AAAA,kCACjB,MAAK;AAAA,kCACL,OAAM;AAAA,kCACL,SAAKG,cAAA,CAAA,WAAO,YAAY,MAAM,IAAC,CAAA,GAAA,CAAA,MAAA,CAAA;AAAA,kCAC/B,iCAA+B,IAAC;AAAA,gCAAA;kCAEjCX,YAAyF,OAAA;AAAA,oCAAnF,KAAK;AAAA,oCAAK,OAAM;AAAA,oCAA6B,KAAI;AAAA,oCAAa,SAAO;AAAA,kCAAA;;;;;0BAMjFA,YAKE,oBAAA;AAAA,4BAJC;AAAA,4BACA,WAAO,CAAA,WAAE,KAAI,WAAY,IAAI;AAAA,4BAC7B,WAAO,CAAA,WAAE,KAAI,WAAY,IAAI;AAAA,4BAC7B,QAAI,CAAA,WAAE,KAAI,QAAS,IAAI;AAAA,0BAAA;;;;;;gBAOhCA,YAGM,OAAA,EAHD,OAAM,4CAAwC;AAAA,kBACjDA,YAA8E,cAAA;AAAA,oBAA/D,UAAUH,MAAA,WAAA,KAAW,KAASA,MAAA,OAAA;AAAA,oBAAU,qBAAO,KAAI,MAAA;AAAA,kBAAA;kBAClEG,YAAuF,cAAA;AAAA,oBAAxE,UAAUH,MAAA,WAAA,KAAeA,MAAA,UAAA,KAAcA,MAAA,OAAA;AAAA,oBAAU,qBAAO,KAAI,MAAA;AAAA,kBAAA;;gBAG7EG,YAQM,OAAA,EARD,OAAM,2FAAuF;AAAA,kBAChGA,YAGM,OAAA,MAAA;AAAA,oCAHD,cACQ;AAAA,oBAAAA,YAAuD,QAAA,EAAjD,OAAM,cAAA,mBAAiBH,MAAA,gBAAA,CAAgB,GAAA,CAAA;AAAA,oBAAUI,gBAAA,eACzDM,gBAAGV,MAAA,WAAA,CAAW,IAAG,yBAAOA,MAAA,UAAA,CAAU,GAAA,CAAA;AAAA,kBAAA;kBAE7CG,YAEM,OAAA,MAAAO,gBADDV,MAAA,YAAA,CAAY,IAAG,cACpB,CAAA;AAAA,gBAAA;;;;;;;;QAOH,SAAS,YAAA;AAAA,QACT,iBAAe;AAAA,QACf,qBAAmB;AAAA,QACnB,gBAAc;AAAA,QACd,qBAAmB;AAAA,QACpB,0BAAuB;AAAA,QACtB,eAAa;AAAA,QACb,SAAO;AAAA,MAAA;yBARV,CAiDU,GAAAC,QAAAC,UAAA,aAAA;;yFAtCAO,cAAA,OAAK,aAAA,KAAY;gBA6Bf,gBAAA,SAAmB,MAAM,gBAAA,KAAe,GAAA;0BAC7CA,cAAA,QAAM,gBAAA,KAAe;;;;;;;cA/B1BN,YA2BM,OAAA;AAAA,yBA3BG;AAAA,gBAAJ,KAAI;AAAA,gBAAY,OAAM;AAAA,cAAA;gBACzBA,YAAwI,OAAA;AAAA,kBAAlI,KAAK,aAAA;AAAA,kBAAc,OAAM;AAAA,kBAA6D,KAAI;AAAA,kBAAmB,SAAO;AAAA,gBAAA;gBAC1HA,YAOS,UAAA;AAAA,kBANP,MAAK;AAAA,kBACL,OAAM;AAAA,kBACL,SAAO;AAAA,kBACR,cAAW;AAAA,gBAAA,GACZ,KAED;AAAA,gBACAA,YAOS,UAAA;AAAA,kBANP,MAAK;AAAA,kBACL,OAAM;AAAA,kBACL,SAAO;AAAA,kBACR,cAAW;AAAA,gBAAA,GACZ,KAED;AAAA,gBACAA,YAQM,OAAA,EARD,OAAM,oDAAgD;AAAA,kBACzDA,YAMS,UAAA;AAAA,oBALP,MAAK;AAAA,oBACL,OAAM;AAAA,oBACL,SAAO;AAAA,kBAAA,GACT,cAED;AAAA,gBAAA;;cAGJA,YAUM,OAAA,EAVD,OAAM,sBAAkB;AAAA,gBAEnB,gBAAA,SAAmB,MAAM,gBAAA,KAAe,kBADhDQ,YAQI,KAAA;AAAA;kBAND,MAAM,gBAAA;AAAA,kBACP,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,OAAM;AAAA,gBAAA,GACP,2BAED,GAAA,CAAA,MAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;ACJN,UAAM,eAAe,IAAI,CAAC;AAC1B,UAAM,cAAc,IAAI,CAAC;AACzB,UAAM,WAAW,IAAI,CAAC;AACtB,UAAM,mBAAmB,IAAI,qBAAqB;AAClD,UAAM,qBAAqB,IAAmC,EAAE;AAChE,UAAM,QAAQ,IAAW,EAAE;AAC3B,UAAM,UAAU,IAAI,KAAK;AAEzB,UAAM,aAAa,SAAS,MAAM,KAAK,IAAI,GAAG,KAAK,KAAK,aAAa,QAAQ,SAAS,KAAK,CAAC,CAAC;AAS7F,mBAAe,gBAAgB;AAC7B,cAAQ,QAAQ;AAChB,UAAI;AACF,cAAM,OAAY,MAAM,OAAO,wBAAwB;AAAA,UACrD,QAAQ;AAAA,YACN,WAAW,iBAAiB;AAAA,YAC5B,MAAM,YAAY;AAAA,YAClB,UAAU,SAAS;AAAA,YACnB,SAAS,KAAK,UAAU,mBAAmB,KAAK;AAAA,UAAA;AAAA,QAClD,CACD;AACD,cAAM,QAAQ,MAAM,SAAS,CAAA;AAC7B,qBAAa,QAAQ,MAAM,SAAS;AAAA,MACtC,SAAS,GAAG;AAAA,MAEZ,UAAA;AACE,gBAAQ,QAAQ;AAAA,MAClB;AAAA,IACF;AAEA,aAAS,WAAW;AAClB,UAAI,YAAY,QAAQ,GAAG;AACzB,oBAAY,SAAS;AACrB,sBAAA;AAAA,MACF;AAAA,IACF;AAEA,aAAS,WAAW;AAClB,UAAI,YAAY,QAAQ,WAAW,OAAO;AACxC,oBAAY,SAAS;AACrB,sBAAA;AAAA,MACF;AAAA,IACF;AAgBA,aAAS,UAAU,MAAW;AAG5B,cAAQ,IAAI,YAAY,MAAM,MAAM,MAAM,WAAW;AAAA,IACvD;AAEA,aAAS,UAAU,MAAW;AAC5B,cAAQ,IAAI,YAAY,MAAM,MAAM,MAAM,WAAW;AAAA,IACvD;AAEA,aAAS,UAAU,MAAW;AAC5B,cAAQ,IAAI,yBAAyB,MAAM,MAAM,MAAM,WAAW;AAAA,IACpE;AAEiB,QAAI,KAAK;AACT,QAAuD,CAAA,CAAE;AACxD,QAAI,EAAE;AACJ,QAAI,KAAK;AACP,QAAW,CAAA,CAAE;AACd,QAAI,KAAK;AACT,QAAI,EAAE;AACN,QAAI,KAAK;AACJ,QAAI,KAAK;AACV,QAAc,CAAA,CAAE;AACvB,QAAI,KAAK;;;;;;QApMhB,OAAO,MAAA;AAAA,QACP,SAAS,QAAA;AAAA,QACT,iBAAe,aAAA;AAAA,QACf,qBAAmB,iBAAA;AAAA,QACnB,gBAAc,YAAA;AAAA,QACd,eAAa,WAAA;AAAA,QACb;AAAA,QACA;AAAA,QACA,QAAM;AAAA,QACN,QAAM;AAAA,QACN,QAAM;AAAA,MAAA;;;;;;;;;;;;;;","names":["base","_unref","_push","_parent","_createVNode","_createTextVNode","_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_ssrRenderList","_ssrRenderAttr","_toDisplayString","_createBlock","_Fragment","_renderList","_withModifiers"],"sources":["../../../../../../../app/components/UiPanel.vue","../../../../../../../app/components/UiPrevButton.vue","../../../../../../../app/components/UiNextButton.vue","../../../../../../../app/components/ProductActionButtons.vue","../../../../../../../app/components/ProductCardContent.vue","../../../../../../../app/components/ProductsGrid.vue","../../../../../../../app/pages/produtos.vue"],"sourcesContent":["<template>\n  <div :class=\"classes\" :style=\"panelStyle\">\n    <slot />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue';\n\ninterface Props {\n  class?: HTMLAttributes['class'];\n  variant?: 'default' | 'accent' | 'glass';\n  align?: 'start' | 'stretch' | 'auto';\n}\n\nconst props = withDefaults(defineProps<Props>(), { variant: 'default', align: 'start' });\n\n// Superfície base\nconst surfaceDefault = ['bg-white/80 dark:bg-neutral-900/80', 'backdrop-blur-sm'];\nconst surfaceAccent = [\n  'bg-gradient-to-b',\n  'from-neutral-50/95 to-neutral-100/70',\n  'dark:from-neutral-800/75 dark:to-neutral-900/85',\n  'backdrop-blur-sm'\n];\nconst surfaceGlass = ['bg-white/60 dark:bg-neutral-900/40', 'backdrop-blur-md'];\n\n// Box styles\nconst boxDefault = ['rounded-xl', 'shadow-md', 'border', 'border-neutral-200/70', 'dark:border-neutral-800/70'];\nconst boxAccent = ['rounded-2xl', 'shadow-lg', 'ring-1', 'ring-neutral-200/60', 'dark:ring-neutral-700/50'];\nconst boxGlass = ['rounded-xl', 'shadow-lg', 'border', 'border-white/25', 'dark:border-white/10'];\n\n// Espaçamentos\nconst paddingDefault = ['px-5 sm:px-6', 'py-4 sm:py-5'];\nconst paddingAccent = ['px-6 sm:px-8', 'py-5 sm:py-6'];\n\nconst base = [\n  ...(props.variant === 'accent' ? surfaceAccent : props.variant === 'glass' ? surfaceGlass : surfaceDefault),\n  ...(props.variant === 'accent' ? boxAccent : props.variant === 'glass' ? boxGlass : boxDefault),\n  ...(props.variant === 'accent' ? paddingAccent : paddingDefault),\n].join(' ');\n\nconst alignClass = props.align === 'stretch' ? 'self-stretch' : props.align === 'auto' ? '' : 'self-start';\n\nconst classes = [base, alignClass, props.class].filter(Boolean).join(' ');\n\n// Deslocamento solicitado: 5cm\nconst panelStyle = { marginTop: '5cm' };\n</script>\n\n<style scoped>\n</style>","<template>\n  <RainbowButton\n    :is=\"'button'\"\n    :disabled=\"disabled\"\n    :class=\"classes\"\n    @click=\"handleClick\"\n    aria-label=\"Anterior\"\n  >\n    {{ label }}\n  </RainbowButton>\n</template>\n\n<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue';\nimport RainbowButton from '~/components/ui/RainbowButton.vue';\n\ninterface Props {\n  disabled?: boolean;\n  class?: HTMLAttributes['class'];\n  label?: string;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  disabled: false,\n  label: 'Anterior',\n});\n\nconst emit = defineEmits<{ (e: 'click'): void }>();\n\nconst base = 'px-3 py-1 text-sm !text-black dark:!text-white';\nconst classes = [base, props.class].filter(Boolean).join(' ');\n\nfunction handleClick() {\n  if (!props.disabled) emit('click');\n}\n</script>\n\n<style scoped>\n</style>","<template>\n  <RainbowButton\n    :is=\"'button'\"\n    :disabled=\"disabled\"\n    :class=\"classes\"\n    @click=\"handleClick\"\n    aria-label=\"Próxima\"\n  >\n    {{ label }}\n  </RainbowButton>\n</template>\n\n<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue';\nimport RainbowButton from '~/components/ui/RainbowButton.vue';\n\ninterface Props {\n  disabled?: boolean;\n  class?: HTMLAttributes['class'];\n  label?: string;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  disabled: false,\n  label: 'Próxima',\n});\n\nconst emit = defineEmits<{ (e: 'click'): void }>();\n\nconst base = 'px-3 py-1 text-sm !text-black dark:!text-white';\nconst classes = [base, props.class].filter(Boolean).join(' ');\n\nfunction handleClick() {\n  if (!props.disabled) emit('click');\n}\n</script>\n\n<style scoped>\n</style>","<template>\n  <div :class=\"containerClass\">\n    <RainbowButton\n      v-if=\"showDetails\"\n      type=\"button\"\n      :class=\"rainbowClass\"\n      @click=\"emitDetails\"\n      aria-label=\"Detalhes\"\n    >\n      <span class=\"i-lucide-info\"></span>\n      {{ detailsLabel }}\n    </RainbowButton>\n\n    <RainbowButton\n      v-if=\"showCompare\"\n      type=\"button\"\n      :class=\"rainbowClass\"\n      @click=\"emitCompare\"\n      aria-label=\"Comparar\"\n    >\n      <span class=\"i-lucide-scale\"></span>\n      {{ compareLabel }}\n    </RainbowButton>\n\n    <RainbowButton\n      v-if=\"showApplications\"\n      type=\"button\"\n      :class=\"rainbowClass\"\n      @click=\"emitApplications\"\n      aria-label=\"Aplicações\"\n    >\n      <span class=\"i-lucide-layers\"></span>\n      {{ applicationsLabel }}\n    </RainbowButton>\n\n    <RainbowButton\n      v-if=\"showTechInfo\"\n      type=\"button\"\n      :class=\"rainbowClass\"\n      @click=\"emitTechInfo\"\n      aria-label=\"Info. Técnicas\"\n    >\n      <span class=\"i-lucide-file-text\"></span>\n      {{ techInfoLabel }}\n    </RainbowButton>\n\n    <RainbowButton\n      v-if=\"showCart\"\n      type=\"button\"\n      :class=\"rainbowClass\"\n      @click=\"emitCart\"\n      aria-label=\"Carrinho\"\n    >\n      <span class=\"i-lucide-shopping-cart\"></span>\n      {{ cartLabel }}\n    </RainbowButton>\n  </div>\n  <!-- Modal de Detalhes reutilizando o mesmo componente do carrinho -->\n  <ProductDetailsModal\n    v-if=\"visible && product\"\n    :visible=\"visible\"\n    :product=\"product\"\n    @close=\"visible = false\"\n    @add-cart=\"onAddCart\"\n    @download-pdf=\"onDownloadPdf\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue';\nimport { computed, ref } from 'vue';\nimport { useCompare } from '~/composables/useCompare';\nimport { useCart } from '~/composables/useCart';\nimport RainbowButton from '~/components/ui/RainbowButton.vue';\nimport ProductDetailsModal from '~/components/ProductDetailsModal.vue';\n\ninterface Props {\n  item?: any;\n  class?: HTMLAttributes['class'];\n  orientation?: 'vertical' | 'horizontal';\n  fullWidth?: boolean;\n  showDetails?: boolean;\n  showCompare?: boolean;\n  showCart?: boolean;\n  showApplications?: boolean;\n  showTechInfo?: boolean;\n  detailsLabel?: string;\n  compareLabel?: string;\n  cartLabel?: string;\n  applicationsLabel?: string;\n  techInfoLabel?: string;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  orientation: 'vertical',\n  fullWidth: true,\n  showDetails: true,\n  showCompare: true,\n  showCart: true,\n  showApplications: true,\n  showTechInfo: true,\n  detailsLabel: 'Detalhes',\n  compareLabel: 'Comparar Produtos',\n  cartLabel: 'Carrinho',\n  applicationsLabel: 'Aplicações',\n  techInfoLabel: 'Info. Técnicas',\n});\n\nconst emit = defineEmits<{\n  (e: 'details', payload?: any): void;\n  (e: 'compare', payload?: any): void;\n  (e: 'cart', payload?: any): void;\n  (e: 'applications', payload?: any): void;\n  (e: 'techInfo', payload?: any): void;\n}>();\n\nconst { add } = useCompare();\nconst { add: addCart } = useCart();\n\n// Estado do modal de detalhes (reutiliza o mesmo popup do carrinho)\nconst visible = ref(false);\nconst product = ref<any | null>(null);\nconst loading = ref(false);\n\nconst containerClass = computed(() => {\n  const base =\n    props.orientation === 'vertical'\n      ? 'mt-2 space-y-2 flex flex-col items-center justify-center'\n      : 'mt-2 flex items-center justify-center gap-2';\n  return [base, props.class].filter(Boolean).join(' ');\n});\n\n// Classes adicionais para o RainbowButton (largura e ajuste de conteúdo)\nconst rainbowClass = computed(() => {\n  const width = props.fullWidth ? 'w-3/4' : '';\n  // Reduz altura, padding e tamanho de fonte em ~50% para compactar os botões\n  return [width, 'h-6 px-4 py-1 gap-1 text-xs !text-black dark:!text-white pointer-events-auto']\n    .filter(Boolean)\n    .join(' ');\n});\n\nasync function emitDetails() {\n  // Emite para quem escuta externamente\n  emit('details', props.item);\n  // Abre o mesmo popup de detalhes do carrinho\n  const id = props.item?.id;\n  const part = props.item?.part_number ?? props.item?.codigo ?? props.item?.sku;\n  if (id == null && !part) return;\n  loading.value = true;\n  try {\n    const data: any = await $fetch('/api/produtos/details', { params: { id, part_number: part } });\n    if (data?.item) {\n      product.value = data.item;\n      visible.value = true;\n    }\n  } catch (_) {\n    // silencioso\n  } finally {\n    loading.value = false;\n  }\n}\n\nfunction emitCompare() {\n  // Envia para o comparador global\n  const item = props.item || {};\n  const id = item.id ?? item.part_number ?? item.codigo ?? item.sku;\n  const title =\n    item.nome ?? item.descricao ?? item.titulo ?? item.part_number ?? `Produto ${id ?? ''}`;\n  const brand = item.fabricante ?? item.marca ?? 'QUALITEC';\n\n  if (id != null) {\n    add({ id, title, brand });\n  }\n  // Mantém o evento para quem já escuta externamente\n  emit('compare', props.item);\n}\n\nfunction emitCart() {\n  // Adiciona ao carrinho com id/título/marca básicos\n  const item = props.item || {};\n  const id = item.id ?? item.part_number ?? item.codigo ?? item.sku;\n  const title =\n    item.nome ?? item.descricao ?? item.titulo ?? item.part_number ?? `Produto ${id ?? ''}`;\n  const brand = item.fabricante ?? item.marca ?? 'QUALITEC';\n  // Campos extras para exibição no modal do carrinho\n  const categoria = item.categoria;\n  const diametro_montagem = item.diametro_montagem;\n  const conexao_instrumento = item.conexao_instrumento;\n  const faixa_trabalho = item.faixa_trabalho;\n  const unidade_leitura = item.unidade_leitura;\n  if (id != null) {\n    addCart({ id, title, brand, categoria, diametro_montagem, conexao_instrumento, faixa_trabalho, unidade_leitura }, 1);\n  }\n  // Mantém o evento externo\n  emit('cart', props.item);\n}\n\nfunction emitApplications() {\n  emit('applications', props.item);\n}\n\nfunction emitTechInfo() {\n  emit('techInfo', props.item);\n}\n\n// Handlers do modal de detalhes\nfunction onAddCart(qty: number) {\n  if (!product.value) return;\n  const p = product.value;\n  const id = p.id ?? p.part_number;\n  const title = p.titulo ?? p.nome ?? p.descricao ?? p.part_number ?? `Produto ${id ?? ''}`;\n  const brand = p.fabricante ?? 'QUALITEC';\n  addCart({ id, title, brand, categoria: p.categoria, diametro_montagem: p.diametro_montagem, conexao_instrumento: p.conexao_instrumento, faixa_trabalho: p.faixa_trabalho, unidade_leitura: p.unidade_leitura }, Math.max(1, qty));\n}\n\nfunction onDownloadPdf() {\n  try {\n    const imgs = product.value?.imagens;\n    const parsed = Array.isArray(imgs) ? imgs : (imgs ? JSON.parse(String(imgs)) : []);\n    const pdfUrl = Array.isArray(parsed) ? parsed.find((x: any) => typeof x === 'string' && x.toLowerCase().endsWith('.pdf')) : parsed?.pdf;\n    if (pdfUrl) {\n      window.open(String(pdfUrl), '_blank');\n    }\n  } catch (_) {\n    // ignora\n  }\n}\n</script>\n\n<style scoped>\n/* Nenhum estilo adicional necessário; utiliza utilitários do Tailwind */\n</style>","<template>\n  <div class=\"px-4 pb-4 pt-6 bg-white/40 dark:bg-neutral-900/30 backdrop-blur-md\">\n    <div class=\"flex items-center justify-between w-full\">\n      <div class=\"text-xs font-semibold tracking-wide text-blue-600 dark:text-blue-400\">\n        {{ item.fabricante || 'QUALITEC' }}\n      </div>\n      <div class=\"ml-auto flex items-center gap-2\">\n        <FavoriteIconButton\n          :active=\"isFav\"\n          size=\"w-7 h-7\"\n          aria-label=\"Favoritar\"\n          title=\"Favoritar\"\n          @toggle=\"onToggleFav\"\n        />\n        <button\n          type=\"button\"\n          class=\"text-blue-600 hover:text-blue-700 dark:text-blue-400\"\n          aria-label=\"Ajuda\"\n          @click=\"openHelp\"\n        >\n          <svg class=\"h-4 w-4\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"1.8\" />\n            <path d=\"M9.1 9a3 3 0 0 1 5.8 1c0 2-3 2-3 4\" stroke=\"currentColor\" stroke-width=\"1.8\" stroke-linecap=\"round\" />\n            <circle cx=\"12\" cy=\"17\" r=\"1\" fill=\"currentColor\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n    <div class=\"mt-2 space-y-1 text-sm\">\n      <div class=\"flex justify-between\">\n        <span class=\"text-neutral-500 dark:text-neutral-400\">Diâmetro:</span>\n        <span class=\"font-medium text-neutral-800 dark:text-neutral-100\">{{ item.diametro_montagem }}</span>\n      </div>\n      <div class=\"flex justify-between\">\n        <span class=\"text-neutral-500 dark:text-neutral-400\">Conexão:</span>\n        <span class=\"font-medium text-neutral-800 dark:text-neutral-100\">{{ item.conexao_instrumento }}</span>\n      </div>\n      <div class=\"flex justify-between\">\n        <span class=\"text-neutral-500 dark:text-neutral-400\">Faixa de Pressão:</span>\n        <span class=\"font-medium text-neutral-800 dark:text-neutral-100\">{{ faixaFormatada }}</span>\n      </div>\n    </div>\n\n    <ProductActionButtons\n      class=\"mt-4\"\n      :item=\"item\"\n      @details=\"emit('details', item)\"\n      @compare=\"emit('compare', item)\"\n      @cart=\"emit('cart', item)\"\n    />\n\n    <!-- Help Modal -->\n    <Teleport to=\"body\">\n      <Transition name=\"fade\">\n        <div v-if=\"showHelp\" class=\"fixed inset-0 z-50 flex items-center justify-center\" role=\"dialog\" aria-modal=\"true\">\n          <!-- Backdrop -->\n          <div class=\"absolute inset-0 bg-black/60 backdrop-blur-sm\" @click=\"closeHelp\"></div>\n\n          <Transition name=\"scale\">\n            <div class=\"relative z-10 mx-4 w-full max-w-[calc(42rem+10cm)] rounded-2xl bg-white/90 dark:bg-neutral-900/80 shadow-2xl ring-1 ring-black/10 dark:ring-white/10\">\n              <div class=\"flex items-center justify-between px-5 py-4 border-b border-neutral-200/70 dark:border-neutral-800\">\n                <h3 class=\"text-lg font-semibold text-neutral-900 dark:text-neutral-100\">O que é um medidor (Manômetro) de pressão?</h3>\n                <button type=\"button\" class=\"p-2 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800\" aria-label=\"Fechar\" @click=\"closeHelp\">\n                  <svg class=\"h-4 w-4\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\n                    <path d=\"M6 6l12 12M18 6L6 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n                  </svg>\n                </button>\n              </div>\n\n              <div class=\"px-5 py-4 text-sm leading-relaxed text-neutral-700 dark:text-neutral-300 space-y-4 max-h-[70vh] overflow-y-auto\">\n                <p>Os manômetros são instrumentos para medir e exibir a pressão de um meio. Os manômetros são instrumentos de medição de pressão com elementos de pressão elásticos, que foram usados milhões de vezes em várias aplicações industriais. Dependendo da área de aplicação do manômetro, os tubos Bourdon, elementos de diafragma ou elementos de cápsula são usados como elementos de pressão.</p>\n\n                <h4 class=\"mt-2 text-base font-semibold text-neutral-900 dark:text-neutral-100\">Quais pressões são medidas pelos manômetros?</h4>\n                <p>Os manômetros medem a pressão manométrica, a pressão absoluta e a pressão diferencial. Além disso, os manômetros Qualitec podem ser usados não apenas para medir a pressão manométrica positiva, mas também para medir a pressão manométrica negativa.</p>\n\n                <h4 class=\"mt-2 text-base font-semibold text-neutral-900 dark:text-neutral-100\">Como funciona um medidor de pressão?</h4>\n                <p>Os manômetros funcionam de forma diferente dependendo do tipo. Na tecnologia de medição industrial, são usados dois tipos diferentes de manômetros - manômetros com tubo Bourdon e manômetros com diafragma. Eles têm princípios funcionais diferentes e, portanto, são adequados para diferentes aplicações.</p>\n                <p>Nos manômetros com tubo Bourdon, a pressão é medida por um tubo Bourdon que transmite a pressão diretamente ao ponteiro. Dentro da caixa há um tubo curvo, no qual o meio entra e faz com que o tubo Bourdon se estique. Esse estiramento é transmitido ao movimento por meio de um segmento dentado e é exibido no mostrador como a deflexão correspondente.</p>\n                <p>Os manômetros de tubo Bourdon podem ser usados de várias maneiras e abrangem a maioria das aplicações. Entretanto, quando atingem seus limites, são usados manômetros de diafragma. Nos manômetros de diafragma, a pressão é transmitida por meio de um diafragma em forma de onda para um elo. Isso transfere a pressão para o movimento.</p>\n\n                <h4 class=\"mt-2 text-base font-semibold text-neutral-900 dark:text-neutral-100\">De que material deve ser feito o meu manômetro?</h4>\n                <p>A Qualitec oferece todas as formas comuns de caixas. Para aplicações padrão, uma versão de plástico com um sistema de medição de liga de cobre é suficiente para meios neutros, como ar comprimido, água ou óleo. Para aplicações hidráulicas, recomendamos uma caixa cromada robusta com um enchimento de glicerina que amortece o sistema de medição contra vibrações e, portanto, garante uma boa legibilidade do instrumento.</p>\n                <p>Para tarefas de medição em substâncias agressivas, não altamente viscosas e não cristalizantes, mesmo em ambientes agressivos, as variantes do manômetro feitas de aço inoxidável são adequadas. O sistema de medição também pode ser revestido com um material especial, como PTFE, ouro, Hastelloy e muitos outros. Isso protege o instrumento de meios agressivos.</p>\n\n                <h4 class=\"mt-2 text-base font-semibold text-neutral-900 dark:text-neutral-100\">O que significa a classe de precisão de um medidor de pressão?</h4>\n                <p>No mostrador de um medidor de pressão, sempre encontramos uma indicação da classe de precisão. A classe de precisão de um medidor de pressão define o desvio permitido do mostrador em porcentagem do valor total da escala. Para caixas de plástico, esse desvio é de 4% ou 2,5%, enquanto para instrumentos de aço cromado ou aço inoxidável é de 1,6% ou 1,0%.</p>\n                <p>Para manômetros de teste, a classe de precisão é de 0,6%, 0,25% ou até 0,1%, dependendo da faixa de exibição usada. O que isso significa na prática? Com uma faixa de medição de 0 a 100 bar e uma classe de precisão de 1,0%, o desvio permitido é de 1 bar em toda a faixa de medição.</p>\n\n                <div class=\"mt-3 flex justify-end gap-2\">\n                  <button type=\"button\" class=\"px-3 py-2 text-sm font-medium rounded-md bg-neutral-900 text-white dark:bg-white dark:text-neutral-900 hover:opacity-90\" @click=\"closeHelp\">Entendi</button>\n                </div>\n              </div>\n            </div>\n          </Transition>\n        </div>\n      </Transition>\n    </Teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport ProductActionButtons from './ProductActionButtons.vue';\nimport FavoriteIconButton from './FavoriteIconButton.vue';\nimport { computed, ref, onMounted, onBeforeUnmount } from 'vue';\nimport { useFavorites } from '~/composables/useFavorites';\n\ninterface Props {\n  item: any;\n}\n\nconst props = defineProps<Props>();\nconst emit = defineEmits<{\n  (e: 'details', payload?: any): void;\n  (e: 'compare', payload?: any): void;\n  (e: 'cart', payload?: any): void;\n}>();\n\nconst faixaFormatada = computed(() => {\n  const faixa = props.item?.faixa_trabalho ? String(props.item.faixa_trabalho) : '';\n  const unidade = props.item?.unidade_leitura ? String(props.item.unidade_leitura) : '';\n  return `${faixa}${unidade ? ' ' + unidade : ''}`;\n});\n\n// Favoritos: id/título/marca derivado do item\nconst { has, toggle } = useFavorites();\nconst favId = computed(() => {\n  const i: any = props.item || {};\n  return i.id ?? i.part_number ?? i.codigo ?? i.sku;\n});\nconst favTitle = computed(() => {\n  const i: any = props.item || {};\n  const id = favId.value;\n  return i.nome ?? i.descricao ?? i.titulo ?? i.part_number ?? (id != null ? `Produto ${id}` : 'Produto');\n});\nconst favBrand = computed(() => {\n  const i: any = props.item || {};\n  return i.fabricante ?? i.marca ?? 'QUALITEC';\n});\nconst isFav = computed(() => {\n  const id = favId.value;\n  return id != null ? has(id) : false;\n});\nfunction onToggleFav() {\n  const id = favId.value;\n  if (id == null) return;\n  toggle({ id, title: favTitle.value, brand: favBrand.value });\n}\n\nconst showHelp = ref(false);\nconst openHelp = () => { showHelp.value = true; };\nconst closeHelp = () => { showHelp.value = false; };\n\nconst onKeydown = (e: KeyboardEvent) => {\n  if (e.key === 'Escape') closeHelp();\n};\n\nonMounted(() => {\n  window.addEventListener('keydown', onKeydown);\n});\n\nonBeforeUnmount(() => {\n  window.removeEventListener('keydown', onKeydown);\n});\n</script>\n\n<style scoped>\n.fade-enter-active, .fade-leave-active { transition: opacity .2s ease; }\n.fade-enter-from, .fade-leave-to { opacity: 0; }\n\n.scale-enter-active, .scale-leave-active { transition: transform .2s ease, opacity .2s ease; }\n.scale-enter-from, .scale-leave-to { transform: scale(0.95); opacity: 0; }\n</style>","<template>\n  <UiPanel class=\"flex-1\" variant=\"accent\">\n    <h1 class=\"text-xl font-semibold text-neutral-800 dark:text-neutral-100\">Catálogo</h1>\n    <p class=\"mt-2 text-sm text-neutral-600 dark:text-neutral-300\">Resultados atuais conforme filtros.</p>\n\n    <div class=\"mt-4\">\n      <div class=\"flex items-center justify-between text-sm text-neutral-600 dark:text-neutral-300\">\n        <div>\n          Categoria: <span class=\"font-medium\">{{ selectedCategory }}</span>\n          · Página {{ currentPage }} de {{ totalPages }}\n        </div>\n        <div>\n          {{ resultsCount }} produtos\n        </div>\n      </div>\n\n      <!-- Grid de Cards -->\n      <div class=\"mt-4\">\n        <div v-if=\"loading\" class=\"py-3 text-neutral-600 dark:text-neutral-300\">Carregando...</div>\n        <div v-else-if=\"items.length === 0\" class=\"py-3 text-neutral-600 dark:text-neutral-300\">Nenhum produto encontrado.</div>\n        <!-- Wrapper para glow neon verde atrás do grid -->\n        <div v-else class=\"neon-green-wrap\">\n          <div class=\"grid grid-cols-2 2xl:grid-cols-3 gap-6 2xl:gap-8\">\n          <div v-for=\"item in items\" :key=\"item.id\" class=\"rounded-xl overflow-hidden border border-white/25 dark:border-white/10 shadow-lg bg-white/60 dark:bg-neutral-900/40 backdrop-blur-md\">\n            <!-- Cabeçalho visual do card: galeria com miniaturas e modal -->\n            <div class=\"relative group\">\n              <img\n                :src=\"imagesFor(item)[0]\"\n                class=\"h-28 w-full object-cover\"\n                alt=\"Imagem do produto\"\n                @error=\"onImgError\"\n                @click=\"openGallery(item, 0)\"\n              />\n              <div class=\"absolute bottom-2 right-2 flex gap-2\">\n                <button\n                  v-for=\"(img, i) in imagesFor(item).slice(1, 3)\"\n                  :key=\"'thumb-' + i\"\n                  type=\"button\"\n                  class=\"h-9 w-9 rounded-md overflow-hidden shadow-sm ring-1 ring-white/40 dark:ring-neutral-700/60\"\n                  @click.stop=\"openGallery(item, i + 1)\"\n                  :aria-label=\"'Abrir imagem ' + (i + 2)\"\n                >\n                  <img :src=\"img\" class=\"h-full w-full object-cover\" alt=\"Miniatura\" @error=\"onImgError\" />\n                </button>\n              </div>\n            </div>\n\n            <!-- Conteúdo do card (componente reutilizável) -->\n            <ProductCardContent\n              :item=\"item\"\n              @details=\"emit('details', item)\"\n              @compare=\"emit('compare', item)\"\n              @cart=\"emit('cart', item)\"\n            />\n          </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"mt-6 flex items-center justify-between\">\n        <UiPrevButton :disabled=\"currentPage <= 1 || loading\" @click=\"emit('prev')\" />\n        <UiNextButton :disabled=\"currentPage >= totalPages || loading\" @click=\"emit('next')\" />\n      </div>\n      <!-- Faixa de informação também no rodapé -->\n      <div class=\"mt-3 flex items-center justify-between text-sm text-neutral-600 dark:text-neutral-300\">\n        <div>\n          Categoria: <span class=\"font-medium\">{{ selectedCategory }}</span>\n          · Página {{ currentPage }} de {{ totalPages }}\n        </div>\n        <div>\n          {{ resultsCount }} produtos\n        </div>\n      </div>\n    </div>\n  </UiPanel>\n\n  <!-- Modal de imagens (lightbox) -->\n  <UiModal\n    :visible=\"showGallery\"\n    :with-backdrop=\"true\"\n    :close-on-backdrop=\"true\"\n    :close-on-esc=\"true\"\n    :show-close-button=\"true\"\n    close-button-placement=\"left\"\n    :panel-class=\"'w-screen h-screen p-0 bg-transparent'\"\n    @close=\"closeGallery\"\n  >\n    <div ref=\"galleryEl\" class=\"relative w-full h-full\">\n      <img :src=\"currentImage\" class=\"max-h-full h-full w-auto max-w-full mx-auto object-contain\" alt=\"Imagem ampliada\" @error=\"onImgError\" />\n      <button\n        type=\"button\"\n        class=\"absolute left-2 top-1/2 -translate-y-1/2 rounded-full bg-white/80 dark:bg-neutral-800/80 px-3 py-2 shadow text-2xl\"\n        @click=\"prevImage\"\n        aria-label=\"Imagem anterior\"\n      >\n        <\n      </button>\n      <button\n        type=\"button\"\n        class=\"absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-white/80 dark:bg-neutral-800/80 px-3 py-2 shadow text-2xl\"\n        @click=\"nextImage\"\n        aria-label=\"Próxima imagem\"\n      >\n        >\n      </button>\n      <div class=\"absolute top-2 right-2 flex items-center gap-3\">\n        <button\n          type=\"button\"\n          class=\"rounded-md bg-white/80 dark:bg-neutral-800/80 px-3 py-1 text-sm shadow\"\n          @click=\"enterFullscreen\"\n        >\n          Tela cheia\n        </button>\n      </div>\n    </div>\n    <div class=\"mt-3 text-center\">\n      <a\n        v-if=\"currentOriginal && isIbb(currentOriginal)\"\n        :href=\"currentOriginal\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        class=\"text-sm text-blue-600 hover:underline dark:text-blue-400\"\n      >\n        Abrir imagem original\n      </a>\n    </div>\n  </UiModal>\n</template>\n\n<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue';\nimport { toRefs, ref, computed, nextTick, watch } from 'vue';\nimport UiPanel from './UiPanel.vue';\nimport UiPrevButton from './UiPrevButton.vue';\nimport UiNextButton from './UiNextButton.vue';\nimport ProductCardContent from './ProductCardContent.vue';\nimport UiModal from './ui/UiModal.vue';\n\ninterface Props {\n  items: any[];\n  loading: boolean;\n  resultsCount: number;\n  selectedCategory: string;\n  currentPage: number;\n  totalPages: number;\n  class?: HTMLAttributes['class'];\n}\n\nconst props = defineProps<Props>();\nconst emit = defineEmits<{\n  (e: 'details', item: any): void;\n  (e: 'compare', item: any): void;\n  (e: 'cart', item: any): void;\n  (e: 'prev'): void;\n  (e: 'next'): void;\n}>();\n\nconst { items, loading, resultsCount, selectedCategory, currentPage, totalPages } = toRefs(props);\n\n// Galeria de imagens (páginas do ImgBB)\nconst GALLERY_PAGES = [\n  'https://ibb.co/cKQDTSdv',\n  'https://ibb.co/B2kWrRJ6',\n  'https://ibb.co/xqCRsnQF',\n];\nconst showGallery = ref(false);\nconst galleryImages = ref<string[]>([]);\nconst galleryOriginals = ref<string[]>([]);\nconst activeImageIndex = ref(0);\nconst galleryEl = ref<HTMLElement | null>(null);\n\nfunction toProxy(url: string): string {\n  return url.startsWith('https://ibb.co/') ? `/api/imgbb?u=${encodeURIComponent(url)}` : url;\n}\n\nfunction imagesFor(item: any): string[] {\n  // Usa proxy interno para evitar ORB e servir imagem com MIME correto\n  return GALLERY_PAGES.map(toProxy);\n}\n\nfunction onImgError(e: Event) {\n  const target = e.target as HTMLImageElement | null;\n  if (target) target.src = '/manometro.png';\n}\n\nfunction openGallery(item: any, index = 0) {\n  galleryImages.value = imagesFor(item);\n  galleryOriginals.value = GALLERY_PAGES.slice();\n  activeImageIndex.value = index;\n  showGallery.value = true;\n}\n\nfunction closeGallery() {\n  showGallery.value = false;\n}\n\nconst currentImage = computed(() => {\n  const imgs = galleryImages.value;\n  if (!imgs || !imgs.length) return '/manometro.png';\n  return imgs[Math.max(0, Math.min(activeImageIndex.value, imgs.length - 1))];\n});\n\nfunction nextImage() {\n  const imgs = galleryImages.value;\n  if (!imgs || !imgs.length) return;\n  activeImageIndex.value = (activeImageIndex.value + 1) % imgs.length;\n}\n\nfunction prevImage() {\n  const imgs = galleryImages.value;\n  if (!imgs || !imgs.length) return;\n  activeImageIndex.value = (activeImageIndex.value + imgs.length - 1) % imgs.length;\n}\n\nfunction isIbb(url: string) {\n  return typeof url === 'string' && url.startsWith('https://ibb.co/');\n}\n\nconst currentOriginal = computed(() => {\n  const origs = galleryOriginals.value;\n  if (!origs || !origs.length) return '';\n  return origs[Math.max(0, Math.min(activeImageIndex.value, origs.length - 1))];\n});\n\nfunction enterFullscreen() {\n  try {\n    const el: any = galleryEl.value as any;\n    if (el && el.requestFullscreen) {\n      el.requestFullscreen();\n    } else if (el && el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen();\n    }\n  } catch (e) {\n    // Silencia falhas por restrições de gesto do usuário\n  }\n}\n\nfunction onKey(e: KeyboardEvent) {\n  if (!showGallery.value) return;\n  if (e.key === 'ArrowRight') {\n    nextImage();\n  } else if (e.key === 'ArrowLeft') {\n    prevImage();\n  }\n}\n\nwatch(showGallery, (open) => {\n  if (open) {\n    window.addEventListener('keydown', onKey);\n  } else {\n    window.removeEventListener('keydown', onKey);\n  }\n});\n</script>\n\n<style scoped>\n/* Glow neon verde atrás do grid de produtos */\n.neon-green-wrap {\n  position: relative;\n}\n.neon-green-wrap::before {\n  content: \"\";\n  position: absolute;\n  inset: -12px;\n  border-radius: 18px;\n  pointer-events: none;\n  /* Gradiente suave com blur para efeito neon */\n  background: radial-gradient(50% 50% at 50% 50%, rgba(34, 197, 94, 0.22) 0%, rgba(34, 197, 94, 0.12) 45%, transparent 75%);\n  filter: blur(18px);\n  opacity: 0.9;\n  z-index: 0;\n}\n.neon-green-wrap > .grid {\n  position: relative;\n  z-index: 1;\n}\n</style>","<template>\n  <section class=\"min-h-screen w-full relative overflow-hidden\">\n    <!-- Fundo neutro (branco gelo) vem de var(--bg) em theme.css -->\n\n    <div class=\"relative z-10 mx-auto max-w-7xl 2xl:max-w-[1600px] px-4 2xl:px-6 py-8\">\n      <div class=\"flex flex-col md:flex-row gap-6\">\n        <!-- Sidebar de filtros (client-only para evitar divergências SSR de subcomponentes inline) -->\n        <ClientOnly>\n          <CatalogFilterSidebar :results-count=\"resultsCount\" :current-page=\"currentPage\" :page-size=\"pageSize\" @filters-change=\"onFiltersChange\" />\n        </ClientOnly>\n\n        <!-- Área de resultados em cards (componente) -->\n        <ProductsGrid\n          :items=\"items\"\n          :loading=\"loading\"\n          :results-count=\"resultsCount\"\n          :selected-category=\"selectedCategory\"\n          :current-page=\"currentPage\"\n          :total-pages=\"totalPages\"\n          @details=\"onDetails\"\n          @compare=\"onCompare\"\n          @cart=\"addToCart\"\n          @prev=\"prevPage\"\n          @next=\"nextPage\"\n        />\n\n        <!-- Painel de comparações à direita -->\n        <ClientOnly>\n          <CompareSidebar />\n        </ClientOnly>\n      </div>\n    </div>\n  </section>\n  <ClientOnly>\n    <div class=\"fixed bottom-6 right-6 z-50 pointer-events-none\">\n      <div v-if=\"!chatOpen\" class=\"flex justify-end pointer-events-auto\">\n        <RainbowButton type=\"button\" :class=\"'gap-2 px-4 py-2 text-sm !text-black dark:!text-white rounded-full shadow-lg'\" @click=\"openChat\" aria-label=\"Abrir Chat\">\n          <span class=\"i-lucide-message-circle\"></span>\n          <span>Chat</span>\n        </RainbowButton>\n      </div>\n      <div v-else class=\"w-[92vw] max-w-sm sm:max-w-md md:max-w-lg pointer-events-auto\">\n        <div class=\"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white/90 dark:bg-neutral-900/90 backdrop-blur-md shadow-xl\">\n          <div class=\"flex items-center justify-between px-4 py-3\">\n            <div class=\"flex items-center gap-2\">\n              <span class=\"i-lucide-bot\"></span>\n              <span class=\"text-sm font-semibold\">Assistente</span>\n            </div>\n            <button type=\"button\" class=\"rounded-md px-2 py-1 text-sm\" @click=\"closeChat\" aria-label=\"Fechar\">×</button>\n          </div>\n          <div class=\"h-[50vh] max-h-[60vh] overflow-y-auto px-4 py-2 space-y-3\">\n            <div v-for=\"(m, idx) in messages\" :key=\"idx\" :class=\"m.role === 'user' ? 'flex justify-end' : 'flex justify-start'\">\n              <div :class=\"m.role === 'user' ? 'max-w-[80%] rounded-lg bg-blue-50 dark:bg-blue-900/40 text-neutral-900 dark:text-neutral-100 px-3 py-2' : 'max-w-[80%] rounded-lg bg-neutral-100 dark:bg-neutral-800/60 text-neutral-800 dark:text-neutral-100 px-3 py-2'\">\n                <p class=\"text-sm whitespace-pre-wrap\">{{ m.content }}</p>\n              </div>\n            </div>\n            <div v-if=\"loadingChat\" class=\"flex justify-start\">\n              <div class=\"rounded-lg bg-neutral-100 dark:bg-neutral-800/60 px-3 py-2\">\n                <span class=\"i-lucide-loader-2 animate-spin\"></span>\n              </div>\n            </div>\n          </div>\n          <div class=\"px-4 py-3 border-t border-neutral-200 dark:border-neutral-800\">\n            <div class=\"flex flex-col gap-3\">\n              <div v-if=\"chatLastItems.length\" class=\"flex flex-wrap items-center gap-2\">\n                <RainbowButton type=\"button\" :class=\"'gap-2 px-3 py-2 text-sm !text-black dark:!text-white'\" @click=\"downloadPdfFromChat\">\n                  <span class=\"i-lucide-file-down\"></span>\n                  <span>Baixar PDF</span>\n                </RainbowButton>\n                <RainbowButton type=\"button\" :class=\"'gap-2 px-3 py-2 text-sm !text-black dark:!text-white'\" @click=\"confirmSendEmail\" :disabled=\"sendingEmail\">\n                  <span v-if=\"sendingEmail\" class=\"i-lucide-loader-2 animate-spin\"></span>\n                  <span v-else-if=\"emailSent\" class=\"i-lucide-check\"></span>\n                  <span v-else class=\"i-lucide-mail\"></span>\n                  <span>{{ sendingEmail ? 'Enviando…' : (emailSent ? 'E-mail enviado' : 'Enviar por e-mail') }}</span>\n                </RainbowButton>\n                <RainbowButton v-if=\"showCompareAction\" type=\"button\" :class=\"'gap-2 px-3 py-2 text-sm !text-black dark:!text-white'\" @click=\"compareTopResults\">\n                  <span class=\"i-lucide-git-compare\"></span>\n                  <span>Comparar</span>\n                </RainbowButton>\n              </div>\n              <div v-if=\"chatLastItems.length && chatLastItems.length <= 3\" class=\"flex flex-col gap-2\">\n                <div class=\"text-xs text-neutral-600 dark:text-neutral-300\">Selecione quais produtos enviar por e-mail:</div>\n                <div v-for=\"p in chatLastItems.slice(0,3)\" :key=\"p.id\" class=\"flex items-center gap-2\">\n                  <input type=\"checkbox\" :checked=\"selectedEmailIds.includes(String(p.part_number || p.id))\" @change=\"toggleEmailSelection(String(p.part_number || p.id))\" />\n                  <span class=\"text-sm\">{{ p.part_number || p.id }} · {{ (p.faixa_trabalho || '') + (p.unidade_leitura ? ' ' + p.unidade_leitura : '') }}</span>\n                </div>\n                <div>\n                  <RainbowButton type=\"button\" :class=\"'gap-2 px-3 py-1 text-xs !text-black dark:!text-white'\" @click=\"selectAllEmail\">Selecionar todos</RainbowButton>\n                </div>\n              </div>\n              <div v-if=\"chatAskEmail\" class=\"flex items-center gap-2\">\n                <input type=\"text\" v-model=\"emailTargets\" placeholder=\"Informe email(s), separados por vírgula\" class=\"flex-1 rounded-md border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-100 px-3 py-2 text-sm\" aria-label=\"Email(s)\" />\n              </div>\n              <form @submit.prevent=\"sendMessage\" class=\"flex items-center gap-2\">\n                <input type=\"text\" v-model=\"userInput\" placeholder=\"Digite sua pergunta...\" class=\"flex-1 rounded-md border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-neutral-800 dark:text-neutral-100 px-3 py-2 text-sm\" aria-label=\"Mensagem\" />\n                <RainbowButton type=\"submit\" :class=\"'gap-2 px-3 py-2 text-sm !text-black dark:!text-white'\" aria-label=\"Enviar\">\n                  <span class=\"i-lucide-send\"></span>\n                  <span>Enviar</span>\n                </RainbowButton>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ClientOnly>\n</template>\n\n<script setup lang=\"ts\">\nimport CatalogFilterSidebar from '../components/CatalogFilterSidebar.vue';\nimport ProductActionButtons from '../components/ProductActionButtons.vue';\nimport ProductsGrid from '../components/ProductsGrid.vue';\nimport CompareSidebar from '../components/CompareSidebar.vue';\nimport RainbowButton from '../components/ui/RainbowButton.vue';\nimport { ref, computed } from 'vue';\nimport { useUserProfile } from '~/composables/useUserProfile';\nimport { useCompare } from '~/composables/useCompare';\n// Fundo “branco gelo” já está aplicado globalmente por var(--bg) em theme.css\n\n// Estado mínimo para integração do contador (sem simulação)\nconst resultsCount = ref(0);\nconst currentPage = ref(1);\nconst pageSize = ref(6);\nconst selectedCategory = ref('Todas as categorias');\nconst activeFiltersState = ref<Record<string, string | null>>({});\nconst items = ref<any[]>([]);\nconst loading = ref(false);\n\nconst totalPages = computed(() => Math.max(1, Math.ceil(resultsCount.value / pageSize.value)));\n\nfunction onFiltersChange(payload: { category: string; filters: Record<string, string | null> }) {\n  selectedCategory.value = payload.category;\n  activeFiltersState.value = payload.filters;\n  currentPage.value = 1;\n  fetchProducts();\n}\n\nasync function fetchProducts() {\n  loading.value = true;\n  try {\n    const data: any = await $fetch('/api/produtos/search', {\n      params: {\n        categoria: selectedCategory.value,\n        page: currentPage.value,\n        pageSize: pageSize.value,\n        filters: JSON.stringify(activeFiltersState.value)\n      }\n    });\n    items.value = data?.items || [];\n    resultsCount.value = data?.total || 0;\n  } catch (e) {\n    // silencioso\n  } finally {\n    loading.value = false;\n  }\n}\n\nfunction prevPage() {\n  if (currentPage.value > 1) {\n    currentPage.value -= 1;\n    fetchProducts();\n  }\n}\n\nfunction nextPage() {\n  if (currentPage.value < totalPages.value) {\n    currentPage.value += 1;\n    fetchProducts();\n  }\n}\n\nfunction formatPreco(p: number) {\n  try {\n    return new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(Number(p || 0));\n  } catch {\n    return String(p ?? '');\n  }\n}\n\nfunction formatFaixa(item: any) {\n  const faixa = item?.faixa_trabalho ? String(item.faixa_trabalho) : '';\n  const unidade = item?.unidade_leitura ? String(item.unidade_leitura) : '';\n  return `${faixa}${unidade ? ' ' + unidade : ''}`;\n}\n\nfunction onDetails(item: any) {\n  // Navega para página de detalhes quando houver rota específica\n  // Por enquanto, apenas log para validação\n  console.log('Detalhes', item?.id || item?.part_number);\n}\n\nfunction onCompare(item: any) {\n  console.log('Comparar', item?.id || item?.part_number);\n}\n\nfunction addToCart(item: any) {\n  console.log('Adicionar ao carrinho', item?.id || item?.part_number);\n}\n\nconst chatOpen = ref(false);\nconst messages = ref<{ role: 'user' | 'assistant'; content: string }[]>([]);\nconst userInput = ref('');\nconst loadingChat = ref(false);\nconst chatLastItems = ref<any[]>([]);\nconst chatAskEmail = ref(false);\nconst emailTargets = ref('');\nconst sendingEmail = ref(false);\nconst showCompareAction = ref(false);\nconst selectedEmailIds = ref<string[]>([]);\nconst emailSent = ref(false);\nfunction openChat() {\n  chatOpen.value = true;\n  if (!messages.value.length) {\n    messages.value.push({\n      role: 'assistant',\n      content: `👋 Bem-vindo ao Chat de Busca Técnica da Qualitec!\nDescreva o produto que procura (ex: “manômetro 2½” 0–6 bar ¼ NPT”).\n\n💡 Eu reconheço termos como rosca, polegada, glicerina, faixa de pressão, etc.\n\n⚠️ Este chat é apenas para busca de produtos, não para suporte geral.`\n    });\n  }\n}\nfunction closeChat() { chatOpen.value = false; }\nasync function sendMessage() {\n  const text = String(userInput.value || '').trim();\n  if (!text) return;\n  messages.value.push({ role: 'user', content: text });\n  userInput.value = '';\n  loadingChat.value = true;\n  try {\n    const { email, empresaId } = useUserProfile();\n    const resp: any = await $fetch('/api/chat', { method: 'POST', body: { messages: messages.value, userEmail: email.value, empresaId: empresaId.value } });\n    const t = resp?.text || 'Desculpe, não consegui responder agora.';\n    messages.value.push({ role: 'assistant', content: t });\n    chatLastItems.value = Array.isArray(resp?.items) ? resp.items : [];\n    chatAskEmail.value = /Informe seu endereço de email/i.test(t);\n    showCompareAction.value = Number(resp?.total || 0) >= 2 && Number(resp?.total || 0) <= 3;\n    if ((Number(resp?.total || 0) || chatLastItems.value.length) <= 3) {\n      selectedEmailIds.value = (chatLastItems.value || []).slice(0, 1).map((p: any) => String(p.part_number || p.id));\n    } else {\n      selectedEmailIds.value = [];\n    }\n    if (resp?.filters || resp?.categoria) {\n      selectedCategory.value = resp?.categoria || selectedCategory.value;\n      const obj = resp?.filters || {};\n      const normalized: Record<string, string | null> = {};\n      for (const [k, v] of Object.entries(obj)) {\n        const val = v == null ? null : String(v);\n        normalized[k] = val;\n      }\n      activeFiltersState.value = normalized;\n      currentPage.value = 1;\n      await fetchProducts();\n    }\n  } catch (_) {\n    messages.value.push({ role: 'assistant', content: 'Ocorreu um erro ao responder.' });\n  } finally {\n    loadingChat.value = false;\n  }\n}\n\nfunction buildOrderItemsSelected(): any[] {\n  const list = Array.isArray(chatLastItems.value) ? chatLastItems.value : [];\n  const ids = new Set((selectedEmailIds.value || []).map((s) => String(s)));\n  const chosen = list.filter((p: any) => ids.has(String(p.part_number || p.id)));\n  const base = chosen.length ? chosen : list.slice(0, 1);\n  return base.map((p: any) => ({\n    id: p.part_number || p.id,\n    title: p.part_number || '',\n    brand: p.fabricante || 'QUALITEC',\n    quantity: 1,\n    categoria: p.categoria,\n    diametro_montagem: p.diametro_montagem,\n    conexao_instrumento: p.conexao_instrumento,\n    faixa_trabalho: p.faixa_trabalho,\n    unidade_leitura: p.unidade_leitura,\n    tipo_medicao: p.tipo_medicao,\n    posicao_montagem: p.posicao_montagem,\n    material_involucro: p.material_involucro,\n    material_internos: p.material_internos,\n    visor: p.visor,\n    classe_exatidao: p.classe_exatidao,\n    glicerina: p.glicerina,\n    certificados: p.certificados,\n    tubo_sifao: p.tubo_sifao,\n    selo_diafragma: p.selo_diafragma,\n    contato_eletrico: p.contato_eletrico,\n    valvula_isolamento: p.valvula_isolamento,\n  }));\n}\n\nfunction toggleEmailSelection(id: string) {\n  const s = String(id);\n  const idx = selectedEmailIds.value.indexOf(s);\n  if (idx >= 0) selectedEmailIds.value.splice(idx, 1);\n  else selectedEmailIds.value.push(s);\n}\n\nfunction selectAllEmail() {\n  selectedEmailIds.value = (Array.isArray(chatLastItems.value) ? chatLastItems.value : []).slice(0, 3).map((p: any) => String(p.part_number || p.id));\n}\n\nasync function downloadPdfFromChat() {\n  const { email, fullName, sector, whatsapp, empresaId } = useUserProfile();\n  const selected = buildOrderItemsSelected();\n  const items = selected.length ? selected.slice(0, 1) : [];\n  if (selectedEmailIds.value.length > 1) {\n    messages.value.push({ role: 'assistant', content: 'Para baixar, selecione apenas 1 produto nas opções acima.' });\n  }\n  const order = { items, user: { email: email.value, fullName: fullName.value, sector: sector.value, whatsapp: whatsapp.value }, empresaId: empresaId.value };\n  const res = await fetch('/api/download-order?format=pdf', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(order) });\n  const blob = await res.blob();\n  const dispo = res.headers.get('Content-Disposition') || '';\n  let filename = 'pedido_qualitec.pdf';\n  const m = /filename=\"([^\"]+)\"/i.exec(dispo || '');\n  if (m) filename = m[1];\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = filename;\n  document.body.appendChild(a);\n  a.click();\n  a.remove();\n  URL.revokeObjectURL(url);\n}\n\nasync function confirmSendEmail() {\n  if (sendingEmail.value) return;\n  sendingEmail.value = true;\n  emailSent.value = false;\n  try {\n    const { email, empresaId } = useUserProfile();\n    const toStr = String(emailTargets.value || email.value || '').trim();\n    if (!toStr) {\n      chatAskEmail.value = true;\n      messages.value.push({ role: 'assistant', content: 'Informe seu endereço de email para eu enviar o PDF.' });\n      return;\n    }\n    const body = { action: 'send_email', userEmail: toStr, empresaId: empresaId.value, order: { items: buildOrderItemsSelected(), user: {} } } as any;\n    const resp: any = await $fetch('/api/chat', { method: 'POST', body });\n    const t = resp?.text || 'Desculpe, não consegui responder agora.';\n    messages.value.push({ role: 'assistant', content: t });\n    chatAskEmail.value = /Informe seu endereço de email/i.test(t);\n    if (resp?.success || /Enviei o PDF do produto/i.test(t)) {\n      emailSent.value = true;\n      setTimeout(() => { emailSent.value = false; }, 4000);\n    }\n  } catch (_) {\n    messages.value.push({ role: 'assistant', content: 'Ocorreu um erro ao enviar por email.' });\n  } finally {\n    sendingEmail.value = false;\n  }\n}\n\nfunction compareTopResults() {\n  const { add } = useCompare();\n  const list = (Array.isArray(chatLastItems.value) ? chatLastItems.value : []).slice(0, 3);\n  let added = 0;\n  for (const p of list) {\n    const id = p.id ?? p.part_number ?? p.codigo ?? p.sku;\n    const title = p.nome ?? p.descricao ?? p.titulo ?? p.part_number ?? (id != null ? `Produto ${id}` : 'Produto');\n    const brand = p.fabricante ?? p.marca ?? 'QUALITEC';\n    if (id != null) {\n      const res = add({ id, title, brand });\n      if (res?.ok) added++;\n    }\n  }\n  if (added >= 2) {\n    messages.value.push({ role: 'assistant', content: 'Adicionei os produtos para comparação.' });\n  } else {\n    messages.value.push({ role: 'assistant', content: 'Não foi possível preparar a comparação.' });\n  }\n}\n</script>"],"version":3}