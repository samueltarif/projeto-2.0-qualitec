import{r as i,k as o}from"#entry";const n=3,t=i([]);if(typeof window<"u")try{const e=window.localStorage.getItem("compare-items");if(e){const a=JSON.parse(e);t.value=Array.isArray(a)?a.slice(0,n):[]}}catch{}function r(){if(typeof window<"u")try{window.localStorage.setItem("compare-items",JSON.stringify(t.value))}catch{}}function u(e){return t.value.find(a=>a.id===e.id)?{ok:!1,reason:"exists"}:t.value.length>=n?{ok:!1,reason:"full"}:(t.value.push(e),r(),{ok:!0})}function l(e){t.value=t.value.filter(a=>a.id!==e),r()}function c(){t.value=[],r()}const s=o(()=>t.value.length),f=o(()=>s.value>=n),d=o(()=>s.value>=2),m=e=>t.value.some(a=>a.id===e);function p(){return{items:t,add:u,remove:l,clear:c,count:s,isFull:f,canCompare:d,has:m,MAX_ITEMS:n}}export{p as u};
