import{d as y,K as Y,L as O,z as d,R as F,F as h,I as U,J as z,D as S,y as f,M,G as V,E as X,B as x,r as G,o as W,ad as q,ae as J,k as A,H as D,C as T,A as l,Q as K,af as Q,ab as C,ac as P,_ as Z}from"#entry";import{u as ee}from"./CplQdjgz.js";const te={key:0,class:"i-lucide-arrow-left"},ae=y({__name:"BackToProductsButton",props:{label:{default:"Voltar aos Produtos"},to:{default:"/produtos"},class:{},showIcon:{type:Boolean,default:!0}},emits:["click"],setup(t,{emit:c}){const s=t,e=c,i=Y();function u(){s.to?i.currentRoute?.value?.path!==s.to&&i.replace(s.to).catch(()=>{}):e("click")}return(m,g)=>(d(),O(F,{type:"button",class:h(U(z)("inline-flex items-center gap-2 px-3 py-2 text-sm !text-black dark:!text-white",s.class)),onClick:u,"aria-label":s.label},{default:S(()=>[s.showIcon?(d(),f("span",te)):M("",!0),V(m.$slots,"default",{},()=>[X(x(s.label),1)])]),_:3},8,["class","aria-label"]))}}),oe=Object.assign(ae,{__name:"BackToProductsButton"}),se=y({__name:"ShaderToy",props:{shaderCode:{},hue:{default:0},saturation:{default:1},brightness:{default:1},speed:{default:1}},setup(t){const c=t,s=G(null);let e=null,i=null,u=null,m=null,g=null,k=null,_=0,L=0,R=0,N=0,E=!1;function B(n,b){if(!e)return null;const p=e.createShader(b);return p?(e.shaderSource(p,n),e.compileShader(p),e.getShaderParameter(p,e.COMPILE_STATUS)?p:(console.error(e.getShaderInfoLog(p)),e.deleteShader(p),null)):null}function r(n){if(!e)return null;const b=`
    attribute vec2 aPos;
    void main() { gl_Position = vec4(aPos, 0.0, 1.0); }
  `,p=`
    precision mediump float;
    uniform vec3 iResolution;
    uniform float iTime;
    uniform vec4 iMouse;
    void mainImage(out vec4 fragColor, in vec2 fragCoord);
    void main(){ vec4 color; mainImage(color, gl_FragCoord.xy); gl_FragColor = color; }
  `,I=B(b,e.VERTEX_SHADER),w=B(p+`
`+n,e.FRAGMENT_SHADER);if(!I||!w)return null;const v=e.createProgram();return v?(e.attachShader(v,I),e.attachShader(v,w),e.linkProgram(v),e.getProgramParameter(v,e.LINK_STATUS)?v:(console.error(e.getProgramInfoLog(v)),e.deleteProgram(v),null)):null}function a(){if(!s.value||!e)return;const n=window.devicePixelRatio||1,b=s.value.getBoundingClientRect();s.value.width=Math.max(1,Math.floor(b.width*n)),s.value.height=Math.max(1,Math.floor(b.height*n)),e.viewport(0,0,s.value.width,s.value.height)}function o(){if(!e||!i||!s.value)return;const n=(performance.now()-_)/1e3;e.useProgram(i),e.uniform3f(m,s.value.width,s.value.height,1),e.uniform1f(g,n*c.speed),e.uniform4f(k,R,N,E?2:0,0),e.drawArrays(e.TRIANGLE_STRIP,0,4),L=requestAnimationFrame(o)}return W(()=>{const n=s.value;if(!n||(e=n.getContext("webgl"),!e)||(i=r(c.shaderCode),!i))return;const b=e.getAttribLocation(i,"aPos");u=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,u);const p=new Float32Array([-1,-1,1,-1,-1,1,1,1]);e.bufferData(e.ARRAY_BUFFER,p,e.STATIC_DRAW),e.vertexAttribPointer(b,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(b),m=e.getUniformLocation(i,"iResolution"),g=e.getUniformLocation(i,"iTime"),k=e.getUniformLocation(i,"iMouse"),_=performance.now(),a(),window.addEventListener("resize",a);const I=$=>{const j=n.getBoundingClientRect(),H=window.devicePixelRatio||1;R=($.clientX-j.left)*H,N=n.height-($.clientY-j.top)*H},w=()=>{E=!0},v=()=>{E=!1};n.addEventListener("mousemove",I),n.addEventListener("mousedown",w),window.addEventListener("mouseup",v),o(),q(()=>{window.removeEventListener("resize",a),n.removeEventListener("mousemove",I),n.removeEventListener("mousedown",w),window.removeEventListener("mouseup",v),cancelAnimationFrame(L),e&&(i&&e.deleteProgram(i),u&&e.deleteBuffer(u))})}),(n,b)=>(d(),f("canvas",{ref_key:"canvasRef",ref:s,class:"absolute inset-0 w-full h-full"},null,512))}}),ne=Object.assign(se,{__name:"ShaderToy"}),re=`
// ShaderToy URL: https://www.shadertoy.com/view/X3yXRd
// The MIT License
// Copyright © 2024 Giorgi Azmaipharashvili
// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

#define INVERT 1

float noise(vec2 p) {
    return smoothstep(-0.5, 0.9, sin((p.x - p.y) * 555.0) * sin(p.y * 1444.0)) - 0.4;
}

float fabric(vec2 p) {
    const mat2 m = mat2(1.6, 1.2, -1.2, 1.6);
    float f = 0.4 * noise(p);
    f += 0.3 * noise(p = m * p);
    f += 0.2 * noise(p = m * p);
    return f + 0.1 * noise(m * p);
}

float silk(vec2 uv, float t) {
    float s = sin(5.0 * (uv.x + uv.y + cos(2.0 * uv.x + 5.0 * uv.y)) + sin(12.0 * (uv.x + uv.y)) - t);
    s = 0.7 + 0.3 * (s * s * 0.5 + s);
    s *= 0.9 + 0.6 * fabric(uv * min(iResolution.x, iResolution.y) * 0.0006);
    return s * 0.9 + 0.1;
}

float silkd(vec2 uv, float t) {
    float xy = uv.x + uv.y;
    float d = (5.0 * (1.0 - 2.0 * sin(2.0 * uv.x + 5.0 * uv.y)) + 12.0 * cos(12.0 * xy)) * cos(5.0 * (cos(2.0 * uv.x + 5.0 * uv.y) + xy) + sin(12.0 * xy) - t);
    return 0.005 * d * (sign(d) + 3.0);
}

void mainImage(out vec4 fragColor, vec2 fragCoord) {
    float mr = min(iResolution.x, iResolution.y);
    vec2 uv = fragCoord / mr;

    float t = iTime;
    uv.y += 0.03 * sin(8.0 * uv.x - t);

    if (iMouse.z > 1.0)
        uv += smoothstep(0.5, 0.0, distance(iMouse.xy / mr, uv)) * 0.08;

    float s = sqrt(silk(uv, t));
    float d = silkd(uv, t);

    vec3 c = vec3(s);
    c += 0.7 * vec3(1, 0.83, 0.6) * d;
    c *= 1.0 - max(0.0, 0.8 * d);
#if INVERT
    c = pow(c, 0.3 / vec3(0.52, 0.5, 0.4));
    c = 1.0 - c;
#else
    c = pow(c, vec3(0.52, 0.5, 0.4));
#endif

    fragColor = vec4(c, 1);
}
`,ie=y({__name:"SilkBg",props:{class:{},hue:{default:300},saturation:{default:.5},brightness:{default:1},speed:{default:1}},setup(t){const c=t,{currentTheme:s}=J(),e=A(()=>{const i=s.value==="light"?1:0;return`hue-rotate(${c.hue}deg) saturate(${c.saturation}) brightness(${c.brightness}) invert(${i})`});return(i,u)=>(d(),f("div",{class:h(U(z)("absolute inset-0",c.class)),style:D({filter:e.value})},[T(ne,{"shader-code":re,hue:c.hue,saturation:c.saturation,brightness:c.brightness,speed:c.speed},null,8,["hue","saturation","brightness","speed"])],6))}}),le=Object.assign(ie,{__name:"SilkBg"}),ce="relative w-full overflow-hidden",de="relative z-10",ue=y({__name:"UiComparePanel",props:{class:{},withSilk:{type:Boolean,default:!1},hue:{default:300},saturation:{default:.5},brightness:{default:1},speed:{default:1},padded:{type:Boolean,default:!1}},setup(t){const c=t,s=[ce,c.class].filter(Boolean).join(" "),e=[de,c.padded?"px-4 py-8":""].filter(Boolean).join(" ");return(i,u)=>{const m=K;return d(),f("div",{class:h(U(s))},[t.withSilk?(d(),O(m,{key:0},{default:S(()=>[T(le,{class:"absolute inset-0 z-0 pointer-events-none",hue:t.hue,saturation:t.saturation,brightness:t.brightness,speed:t.speed},null,8,["hue","saturation","brightness","speed"])]),_:1})):M("",!0),l("div",{class:h(U(e))},[V(i.$slots,"default")],2)],2)}}}),me=Object.assign(ue,{__name:"UiComparePanel"}),fe={key:0,class:"i-lucide-loader-2 animate-spin"},pe={key:1,class:"i-lucide-shopping-cart"},be={class:"font-medium"},ve=y({__name:"UiAddButton",props:{label:{default:"Adicionar"},type:{default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!0},class:{},size:{default:"sm"}},emits:["click"],setup(t,{emit:c}){const s=t,e=c,i=A(()=>["inline-flex items-center gap-2 text-sm !text-black dark:!text-white","disabled:opacity-60 disabled:cursor-not-allowed",s.class||""].join(" "));return(u,m)=>(d(),O(F,{is:"button",type:t.type,disabled:t.disabled||t.loading,class:h(i.value),onClick:m[0]||(m[0]=g=>e("click")),"aria-label":"Adicionar"},{default:S(()=>[t.loading?(d(),f("span",fe)):t.showIcon?(d(),f("span",pe)):M("",!0),l("span",be,x(t.label),1)]),_:1},8,["type","disabled","class"]))}}),he=Object.assign(ve,{__name:"UiAddButton"}),ge={key:0,class:"i-lucide-trash-2"},xe={key:1,class:"i-lucide-loader-2 animate-spin"},ye={class:"font-medium"},ke=y({__name:"UiClearCompareButton",props:{label:{default:"Limpar Comparação"},type:{default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!0},class:{},size:{default:"sm"}},emits:["click"],setup(t,{emit:c}){const s=t,e=c,i=A(()=>["inline-flex items-center gap-2 text-sm !text-black dark:!text-white","disabled:opacity-60 disabled:cursor-not-allowed",s.class||""].join(" "));return(u,m)=>(d(),O(F,{is:"button",type:t.type,disabled:t.disabled||t.loading,class:h(i.value),onClick:m[0]||(m[0]=g=>e("click")),"aria-label":"Limpar Comparação"},{default:S(()=>[t.showIcon&&!t.loading?(d(),f("span",ge)):t.loading?(d(),f("span",xe)):M("",!0),l("span",ye,x(t.label),1)]),_:1},8,["type","disabled","class"]))}}),_e=Object.assign(ke,{__name:"UiClearCompareButton"}),Te=["aria-label","title"],Ae=y({__name:"UiRemoveButton",props:{ariaLabel:{default:"Remover"},class:{},size:{default:"sm"},iconClass:{default:"i-lucide-x"}},emits:["click"],setup(t,{emit:c}){const s=t,e=c,i={xs:"p-1",sm:"p-1.5",md:"p-2"},u=A(()=>["inline-flex items-center justify-center rounded-md","text-red-400 hover:text-red-500","transition-colors",i[s.size],s.class||""].join(" ")),m=A(()=>[s.iconClass,"h-4 w-4"].join(" "));return(g,k)=>(d(),f("button",{type:"button",class:h(u.value),"aria-label":t.ariaLabel,title:t.ariaLabel,onClick:k[0]||(k[0]=_=>e("click"))},[l("span",{class:h(m.value)},null,2)],10,Te))}}),Re=Object.assign(Ae,{__name:"UiRemoveButton"}),Ee={class:"mx-auto max-w-7xl px-4 py-8"},Ie={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-3"},we={key:0,class:"mt-6 text-black dark:text-neutral-200"},Ce={key:1,class:"mt-6"},Oe={class:"relative -mx-4 md:mx-0 overflow-x-auto"},Se={class:"flex items-center justify-between"},Le={class:"text-black dark:text-neutral-100 font-semibold truncate"},Ne={class:"text-[11px] md:text-xs text-black dark:text-blue-300 uppercase"},Be={class:"text-[11px] md:text-xs text-black dark:text-neutral-300"},Pe={class:"relative -mx-4 md:mx-0 overflow-x-auto"},De={class:"sticky left-0 z-10 bg-neutral-900/50 p-2 md:p-3 text-xs md:text-sm text-black dark:text-neutral-300 font-medium border border-neutral-700/60 backdrop-blur-md"},Ue={class:"relative -mx-4 md:mx-0 overflow-x-auto"},Me={class:"flex items-center gap-3"},Fe={class:"mt-4 flex justify-end"},$e=y({__name:"comparar",setup(t){const c=Q(),{items:s,remove:e,clear:i}=ee(),u=G([]),m=A(()=>`grid-template-columns: minmax(12rem, 0.9fr) repeat(${Math.max(2,Math.min(3,u.value.length))}, minmax(12rem, 1fr))`),g=[{label:"CATEGORIA",key:"categoria"},{label:"TIPO DE MEDIÇÃO",key:"tipo_medicao"},{label:"DIÂMETRO DE MONTAGEM",key:"diametro_montagem"},{label:"POSIÇÃO DE MONTAGEM",key:"posicao_montagem"},{label:"CONEXÃO DO INSTRUMENTO",key:"conexao_instrumento"},{label:"MATERIAL DO INVÓLUCRO",key:"material_involucro"},{label:"MATERIAL DOS INTERNOS",key:"material_internos"},{label:"VISOR",key:"visor"},{label:"CLASSE DE EXATIDÃO",key:"classe_exatidao"},{label:"UNIDADE DE LEITURA",key:"unidade_leitura"},{label:"FAIXA DE TRABALHO",key:"faixa_trabalho"},{label:"ENCHIMENTO DE GLICERINA",key:"glicerina",type:"bool"},{label:"CERTIFICADOS",key:"certificados",type:"json"},{label:"TUBO SIFÃO",key:"tubo_sifao",type:"bool"},{label:"SELO DIAFRAGMA",key:"selo_diafragma",type:"bool"},{label:"CONTATO ELÉTRICO",key:"contato_eletrico",type:"bool"},{label:"VÁLVULA DE ISOLAMENTO",key:"valvula_isolamento",type:"bool"}];function k(r,a){if(a.type==="bool")return r?"Sim":"Não";if(a.type==="json")try{const o=Array.isArray(r)?r:JSON.parse(r||"[]");return Array.isArray(o)&&o.length?o.join(", "):"—"}catch{return"—"}return r??"—"}function _(r,a){if(a.type==="bool")return r?"sim":"não";if(a.type==="json")try{const o=Array.isArray(r)?r:JSON.parse(r||"[]");return Array.isArray(o)&&o.length?String(o.join(", ")).trim().toLowerCase():""}catch{return""}return r==null?"":String(r).trim().toLowerCase()}function L(r){const a={};let o="",n=0;for(const b of r){if(!b)continue;const p=(a[b]||0)+1;a[b]=p,p>n&&(o=b,n=p)}return o}function R(r,a){const o=u.value.map(p=>_(p[a.key],a)),n=L(o);return n?_(r[a.key],a)!==n:!1}function N(r){console.log("Adicionar ao carrinho:",r.id)}W(async()=>{let r=String(c.query.ids||"");if(r||(r=s.value.map(a=>a.id).join(",")),!!r)try{const a=await $fetch("/api/produtos/get-by-ids",{params:{ids:r}});a?.items&&(u.value=a.items)}catch{}});function E(r){e(r),u.value=u.value.filter(a=>a.id!==r)}function B(){i(),u.value=[]}return(r,a)=>(d(),O(me,{class:"min-h-screen w-full"},{default:S(()=>[l("div",Ee,[l("div",Ie,[a[1]||(a[1]=l("div",{class:"min-w-0"},[l("h1",{class:"text-2xl font-bold text-black dark:text-neutral-100"},"Comparação de Produtos"),l("p",{class:"text-sm text-black dark:text-neutral-300"},"Compare as especificações dos produtos selecionados")],-1)),T(oe,{class:"self-start md:self-auto shrink-0"})]),u.value.length<2?(d(),f("div",we," Selecione ao menos 2 produtos para comparar. ")):(d(),f("div",Ce,[l("div",Oe,[l("div",{class:"grid gap-0 min-w-max",style:D(m.value)},[a[2]||(a[2]=l("div",{class:"sticky left-0 z-10 rounded-t-lg bg-neutral-800/40 p-2 md:p-4 text-xs md:text-sm text-black dark:text-neutral-200 font-semibold border border-neutral-700/60 backdrop-blur-md"},"Especificação",-1)),(d(!0),f(C,null,P(u.value,o=>(d(),f("div",{key:o.id,class:"rounded-t-lg bg-neutral-800/40 p-2 md:p-4 text-xs md:text-sm border border-neutral-700/60 min-w-[12rem]"},[l("div",Se,[l("div",null,[l("div",Le,x(o.part_number||o.id),1),l("div",Ne,x(o.categoria||"—"),1),l("div",Be,x(o.fabricante||"QUALITEC"),1)]),T(Re,{size:"sm",class:"bg-red-50 text-red-700 hover:bg-red-100 border border-red-300 rounded-md shadow-sm dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50 dark:border-red-700",onClick:n=>E(o.id)},null,8,["onClick"])])]))),128))],4)]),l("div",Pe,[l("div",{class:"grid gap-0 min-w-max",style:D(m.value)},[(d(),f(C,null,P(g,o=>(d(),f(C,{key:o.key},[l("div",De,x(o.label),1),(d(!0),f(C,null,P(u.value,n=>(d(),f("div",{key:n.id+"-"+o.key,class:h(["bg-emerald-900/30 p-2 md:p-3 text-xs md:text-sm text-black dark:text-neutral-100 border border-neutral-700/60 min-w-[12rem]",R(n,o)?"md:diff-glow-red border-red-500/40 bg-red-50/20 dark:bg-red-900/10":""])},[l("span",{class:h(R(n,o)?"diff-text-red md:diff-text-red":"")},x(k(n[o.key],o)),3)],2))),128))],64))),64))],4)]),l("div",Ue,[l("div",{class:"grid gap-0 min-w-max",style:D(m.value)},[a[3]||(a[3]=l("div",{class:"sticky left-0 z-10 bg-neutral-900/60 p-2 md:p-4 text-xs md:text-sm text-black dark:text-neutral-200 font-medium border border-neutral-700/60 backdrop-blur-md"},"Ações",-1)),(d(!0),f(C,null,P(u.value,o=>(d(),f("div",{key:o.id+"-actions",class:"bg-neutral-900/60 p-2 md:p-4 border border-neutral-700/60 min-w-[12rem]"},[l("div",Me,[T(he,{onClick:n=>N(o)},null,8,["onClick"])])]))),128))],4)]),l("div",Fe,[T(_e,{size:"sm",onClick:a[0]||(a[0]=o=>B())})])]))])]),_:1}))}}),ze=Z($e,[["__scopeId","data-v-8f3da8f6"]]);export{ze as default};
